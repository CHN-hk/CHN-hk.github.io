(window.HK3=window.HK3||[]).push([[1],{b6ec:function(t,e,n){(function(t){!function(e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return p(this,n)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,a=void 0;try{for(var r,c=t[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,a=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}}(t,e)||x(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var v=function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()};function y(t,e){return v(t)===e.toLowerCase()}function E(t){return null==t}function B(t){return!!y(t,"Object")&&(null===Object.getPrototypeOf(t)||Object===t.constructor)}function k(t){return y(t,"Function")}function w(t){return y(t,"String")}function D(t){return y(t,"Array")}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return E(t)?e:w(t)?t:String(t)}var A={name:"",version:""},S={opera:/Opera\/([\d.]+)/,firefox:/Firefox\/([\d.]+)/,ie:/MSIE\s([\d.]+)/,ie11:/Trident\/[\d](?=[^\?]+).*rv:([0-9.]+)/,edge:/Edge\/([\d.]+)/,chrome:/Chrome\/([\d.]+)/,safari:/Safari\/([\d.]+)/};function j(t){return S.opera.test(t)?"Opera":S.firefox.test(t)?"Firefox":S.ie.test(t)||S.ie11.test(t)?"IE":S.edge.test(t)?"Edge":S.chrome.test(t)?"Chrome":S.safari.test(t)?"Safari":"other"}var T=navigator.userAgent||"";A.name=j(T),A.version=function(t,e){var n="";switch(e=e||j(t)){case"Opera":case"Firefox":case"Edge":case"Chrome":case"Safari":var i=S[e.toLocaleLowerCase()].exec(t);n=i?i[1]:"";break;case"IE":var o=S.ie.exec(t)||S.ie11.exec(t);n=o?o[1]:""}return n}(T,A.name);var I={isDev:!0,isLogin:!1,userInfo:{},appid:"",threadId:"",commentCount:0,winHeight:window.innerHeight||document.documentElement.clientHeight,passStaticPage:"",isHigherBrowser:function(t){var e=A.name.toLocaleLowerCase();if(t.hasOwnProperty(e)){var n=t[e];return function(t,e){t=C(t,""),e=C(e,"");for(var n=t.split("."),i=e.split("."),o=0,a=Math.max(n.length,i.length);o<a;o++){if(n[o]&&!i[o]&&parseInt(n[o],10)>0||parseInt(n[o],10)>parseInt(i[o],10))return 1;if(i[o]&&!n[o]&&parseInt(i[o],10)>0||parseInt(n[o],10)<parseInt(i[o],10))return-1}return 0}(A.version,n)>-1}return!0}({ie:"11"}),hideToast:!1},_={thread_id:"",reply_id:"",start:0,num:20,appid:"",order:"12",inner_order:"9",use_list:"1",callback:"?"},F="https://ext.baidu.com",O={LIST1:"".concat(F,"/api/comment/v2/comment/list"),LIST2:"".concat(F,"/api/comment/v2/comment/detail"),UPDOWN:"".concat(F,"/api/comment/v1/comment/updown"),DELETE:"".concat(F,"/api/comment/v1/comment/delreply"),REPORT:"".concat(F,"/api/comment/v1/comment/report"),ADDREPLY:"".concat(F,"/api/comment/v1/comment/addreply")},P="æ­£åœ¨åŠ è½½...",L="åŠ è½½å¤±è´¥ï¼Œç‚¹å‡»é‡æ–°åŠ è½½",R="æŸ¥çœ‹æ›´å¤šè¯„è®º",N="æ²¡æœ‰æ›´å¤šå•¦",H="ç½‘ç»œä¸ç»™åŠ›ï¼Œè¯·ç¨åé‡è¯•",M=[{id:"4",text:"ååŠ¨è¿æ³•"},{id:"1",text:"è‰²æƒ…ä½ä¿—"},{id:"6",text:"è°©éª‚æ”»å‡»"},{id:"3",text:"è¥é”€å¹¿å‘Š"},{id:"9",text:"å…¶ä»–"}],z=function(t){return"".concat("https://author.baidu.com/home","?context=%7B%22uk%22%3A%22").concat(t,"%22%7D")},U={202:"å‚æ•°é”™è¯¯ï¼Œå‘é€å¤±è´¥",701:"æ‰‹é€Ÿå¤ªå¿«äº†ï¼Œä¼‘æ¯ä¸€ä¸‹å†è¯•å§",872:"æ­¤è¯„è®ºæš‚æ— æ³•å›å¤",802:"å‘é€å¤±è´¥ï¼Œæ­¤å†…å®¹æš‚ä¸æ”¯æŒè¯„è®º",880:"å‘è¡¨å¤±è´¥",890:"æ¯å¤©å¯å‘è¡¨5æ¬¡å›¾ç‰‡è¯„è®º",838:"ç”±äºå¯¹æ–¹è®¾ç½®ï¼Œä½ æ— æ³•è¿›è¡Œè¯¥æ“ä½œ"},K=function(t,e,i){return new TypeError("Expected `"+t+"` to be of type `"+e+"`, got `"+n(i)+"`")},q=function(){function t(){i(this,t),this._events={}}return a(t,[{key:"on",value:function(t,e,n){if(!w(t))throw K("name","string",t);if(!k(e))throw K("callback","function",e);var i=this._events;return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this}},{key:"once",value:function(t,e,n){var i=this;function o(){i.off(t,o);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];e.apply(n,r)}return o._=e,this.on(t,o,n)}},{key:"emit",value:function(t){if(!w(t))throw K("name","string",t);for(var e=(this._events[t]||[]).slice(),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(var a=0,r=e.length;a<r;a++){var c=e[a],s=c.fn,l=c.ctx,d=void 0===l?null:l;s.apply(d,i)}return this}},{key:"off",value:function(t,e){var n=this._events,i=n[t];if(i&&i.length)if(void 0===e)delete n[t];else if(k(e)){for(var o=[],a=0,r=i.length;a<r;a++){var c=i[a].fn;c!==e&&c._!==e&&o.push(i[a])}o.length?n[t]=o:delete n[t]}return this}}]),t}(),$=function(){return new q},V=0,W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return V++,(Date.now().toString(16)+V).slice(-1*t)},J="object"===("undefined"==typeof window?"undefined":n(window))?window:t,Y=function(t){if("function"==typeof t){var e="_xfunc_".concat(W());return J[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(J,n)},e}return t},G=encodeURIComponent,X=function(t){return G(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))};function Z(t){return t.map((function(t){switch(v(t)){case"string":return t;case"function":return Y(t);default:return t}}))}var Q=function(){};function tt(t){return y(t,"function")}function et(t){var e=t.url,i=t.before,o=t.success,a=t.error,r=t.timeout,c=void 0===r?2e4:r,s=t.async,l=t.data,d=t.jsonpCallback,u=t.jsonpCallbackName;"object"===n(l)&&(l=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(w(t))return t;var n=[];for(var i in t){var o=t[i];D(o)?o=JSON.stringify(Z(o)):E(o)?o="":B(o)?o=JSON.stringify(o):k(o)&&(o=Y(o)),n.push("".concat(i,"=").concat(e?X(o):o))}return n.join("&")}(l)),l&&(e+=(-1===e.indexOf("?")?"?":"&")+l),e=e.replace(/[&?]{1,2}/,"?");var p,h=(tt(d)?d():d)||"_boxjsonp"+W(),f=window[h];window[h]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];p=e},u?e+="&"+u+"="+h:/=\?/.test(e)&&(e=e.replace(/=\?/,"="+h)),function t(e,n,i){var o,a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=document,s=e.replace(/^(css|img)!/,""),l=!1,d=i.async,u=void 0===d||d,p=i.maxTries,h=void 0===p?1:p,f=i.timeout,g=void 0===f?2e4:f,m=i.before,x=void 0===m?null:m,b=x;"function"!=typeof b&&(b=Q),/(^css!|\.css$)/.test(e)?(l=!0,(o=c.createElement("link")).rel="stylesheet",o.href=s):/(^img!|\.(png|gif|jpg|svg)$)/.test(e)?(o=c.createElement("img")).src=s:((o=c.createElement("script")).src=e,o.async=!!u);var v=function(c){var s;if(clearTimeout(a),s=c instanceof Error?"e":c.type[0],l&&"hideFocus"in o)try{o.sheet.cssText.length||(s="e")}catch(t){s="e"}if("e"===s&&(r+=1)<h)return t(e,n,i,r);o.onload=o.onerror=o.onbeforeload=null,o=null,n("e"===s?c||"error":null,e)};if(o.onload=o.onerror=v,!1!==b(e,o)){var y=c.head||c.getElementsByTagName("script")[0];y.appendChild(o),g>0&&(a=setTimeout((function(){v(new Error("timeout"))}),g))}}(e,(function(t,e){t?a(t,e):o(p&&p[0]),window[h]=f,p&&tt(f)&&f(p[0]),f=p=void 0}),{timeout:c,async:s,before:i})}var nt=function(t,e,i){if("object"===n(t)){var o,a,r=function(t){var e;return e=null==t?String(t):(e=Object.prototype.toString.call(t).toLowerCase()).substring(8,e.length-1)}(t);if(i=i||t,"array"===r||"arguments"===r||"nodelist"===r){for(o=0,a=t.length;o<a;o++)if(!1===e.call(i,t[o],o,t))return}else for(o in t)if(t.hasOwnProperty(o)&&!1===e.call(i,t[o],o,t))return}},it=/^\.([\w-]+)$/,ot=/^#([\w-]*)$/,at=/^[\w-]+$/,rt={mouseenter:"mouseover",mouseleave:"mouseout"},ct={},st=function(){return!0},lt=function(){return!1},dt=/^([A-Z]|layer[XY]$)/,ut={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function pt(t,e,n,i){return function(t,e,n,i,o,a){var r=function(t){return t._bid||(t._bid=W())}(t),c=ct[r]||(ct[r]=[]);!function(t,e,n){t.split(/\s/).forEach((function(t){n(t,e)}))}(e,n,(function(e,n){var a=function(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}(e);a.fn=n,a.sel=i,a.e in rt&&(n=function(t){var e=t.relatedTarget;if(!e||e!==this&&!xt(this,e))return a.fn.apply(this,arguments)}),a.del=o&&o(n);var r=a.del||n;a.proxy=function(e){var n=r.apply(t,[e].concat(e.data));return!1===n&&(e.preventDefault(),e.stopPropagation()),n},a.i=c.length,c.push(a),"addEventListener"in t&&t.addEventListener(function(t){return rt[t]||t}(a.e),a.proxy,function(t,e){return t.del&&("focus"===t.e||"blur"===t.e)||!1}(a))}))}(t,n,i,e,(function(n){return function(i){var o,a=ft(i.target,e,t);if(a){(o=ht(i)).currentTarget=a,o.liveFired=t;for(var r=arguments.length,c=new Array(r>1?r-1:0),s=1;s<r;s++)c[s-1]=arguments[s];return n.apply(a,[o].concat(c))}}}))}function ht(t){var e,n={originalEvent:t};for(e in t)dt.test(e)||void 0===t[e]||(n[e]=t[e]);return nt(ut,(function(e,i){n[i]=function(){return this[e]=st,t[i].apply(t,arguments)},n[e]=lt})),n}function ft(t,e,n){for(;t&&!mt(t,e);)t=t!==n&&!gt(t)&&t.parentNode;return t}function gt(t){return null!=t&&t.nodeType===t.DOCUMENT_NODE}function mt(t,e){if(!t||1!==t.nodeType)return!1;var n,i=t.webkitMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var o=t.parentNode,a=!o,r=document.createElement("div");return a&&(o=r).appendChild(t),n=~function(t,e){var n;return gt(t)&&ot.test(e)?(n=t.getElementById(RegExp.$1))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:Array.prototype.slice.call(it.test(e)?t.getElementsByClassName(RegExp.$1):at.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))}(o,e).indexOf(t),a&&r.removeChild(t),n}function xt(t,e){return t!==e&&t.contains(e)}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('.x-avatar{position:relative;display:block;width:48px;height:48px}.x-avatar.is-small{width:39px;height:39px}.x-avatar-placeholder{position:absolute;left:0;top:0;width:100%;height:100%;background:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-bd-logo.png) 50% 50% no-repeat;background-size:50% 50%}.x-avatar-img{position:relative;width:100%;height:100%;background-position:50% 50%;background-repeat:no-repeat;background-size:cover;border-radius:50%}.x-avatar-img:after{content:"";position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:300%;height:300%;border:3px solid rgba(0,0,0,.1);border-radius:100%;-webkit-transform:scale(.333333);transform:scale(.333333);-webkit-transform-origin:0 0;transform-origin:0 0}.x-avatar-vip{position:absolute;z-index:1;right:0;bottom:0;width:16.5px;height:16.5px;background-position:50% 50%;background-repeat:no-repeat;background-size:cover}.x-avatar .is-small-vip{width:13.2px;height:13.2px}.x-avatar .vip-1{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-vip-1.png)}.x-avatar .vip-2{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-vip-2.png)}.x-avatar .vip-3{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-vip-3.png)}.x-avatar .vip-10{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-vip-10.png)}');var bt=function(){function t(e){i(this,t),this.container=e.container,this.prefixCls="x-avatar",this.src=e.src,this.vip=e.vip,this.href=e.href,this.isSmall=e.isSmall,this.render()}return a(t,[{key:"render",value:function(){var t=document.createElement(this.href?"a":"div");t.classList.add("x-avatar",this.isSmall?"is-small":"x-avatar"),t.href=this.href;var e='\n            <div class="'.concat("x-avatar",'-placeholder"></div>\n            <div class="').concat("x-avatar",'-img" style="').concat(this.imgStyle(),'"></div>\n            ').concat(+this.vip?'<div class="'.concat("x-avatar","-vip vip-").concat(this.vip," ").concat(this.isSmall?"is-small-vip":"",'"></div>'):"","\n        ");t.innerHTML=e,this.container.appendChild(t)}},{key:"imgStyle",value:function(){return this.src?"background-image: url(".concat(this.src,")"):""}},{key:"updateSrc",value:function(t){this.src=t.src,this.container.querySelector(".".concat("x-avatar","-img")).style.backgroundImage="url(".concat(this.src,")")}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".user-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-family:PingFangSC-Regular}.user-bar-uname{font-family:PingFangSC-Semibold;font-size:13px;color:#222}.user-bar-lz{margin-left:4px;margin-right:-7px;padding:2px 2.67px;-webkit-transform:scale(.75);transform:scale(.75);-webkit-transform-origin:left center;transform-origin:left center;font-size:12px;line-height:1;color:#4e6ef2;border:1px solid rgba(78,110,242,.5);border-radius:3.25px;display:inline-block;font-family:initial;font-weight:400}.user-bar-dc{width:13px;height:13px;margin-left:4px;background-size:cover;background-position:50%;background-repeat:no-repeat}.user-bar-verified{padding-left:4px;font-size:13px;color:#626675;display:inline-block;max-width:200px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}");var vt=function(){function t(e){i(this,t),this.uname=e.uname,this.isAuthor=!!+e.isAuthor,this.verified=e.verified,this.decorations=e.decorations||[],this.prefixCls="user-bar"}return a(t,[{key:"makeTpl",value:function(){var t=this.decorations;return'\n            <div class="'.concat("user-bar",'">\n                <h5 class="').concat("user-bar",'-uname">').concat(this.uname).concat(this.isAuthor?'<span class="'.concat("user-bar",'-lz">ä½œè€…</span>'):"","</h5>\n                ").concat(t.length?t.map((function(t){return t.icon?'<span class="'.concat("user-bar",'-dc" style="background-image:url(').concat(t.icon,')"></span>'):""})).join(""):"","\n                ").concat(this.verified?'<span class="'.concat("user-bar",'-verified">').concat(this.verified,"</span>"):"","\n            </div>\n        ")}},{key:"bindEvent",value:function(t){}}]),t}(),yt=function(t,e,i){if("object"===n(t)){var o,a,r=function(t){var e;return e=null==t?String(t):(e=Object.prototype.toString.call(t).toLowerCase()).substring(8,e.length-1)}(t);if(i=i||t,"array"===r||"arguments"===r||"nodelist"===r){for(o=0,a=t.length;o<a;o++)if(!1===e.call(i,t[o],o,t))return}else for(o in t)if(t.hasOwnProperty(o)&&!1===e.call(i,t[o],o,t))return}},Et=0,Bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Et++,(Date.now().toString(16)+Et).slice(-1*t)},kt=/^\.([\w-]+)$/,wt=/^#([\w-]*)$/,Dt=/^[\w-]+$/,Ct={mouseenter:"mouseover",mouseleave:"mouseout"},At={},St=function(){return!0},jt=function(){return!1},Tt=/^([A-Z]|layer[XY]$)/,It={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function _t(t,e,n,i){return function(t,e,n,i,o,a){var r=Ot(t),c=At[r]||(At[r]=[]);Ht(e,n,(function(e,n){var a=Lt(e);a.fn=n,a.sel=i,a.e in Ct&&(n=function(t){var e=t.relatedTarget;if(!e||e!==this&&!Kt(this,e))return a.fn.apply(this,arguments)}),a.del=o&&o(n);var r=a.del||n;a.proxy=function(e){var n=r.apply(t,[e].concat(e.data));return!1===n&&(e.preventDefault(),e.stopPropagation()),n},a.i=c.length,c.push(a),"addEventListener"in t&&t.addEventListener(Rt(a.e),a.proxy,Nt(a,void 0))}))}(t,n,i,e,(function(n){return function(i){var o,a=Mt(i.target,e,t);if(a){(o=Pt(i)).currentTarget=a,o.liveFired=t;for(var r=arguments.length,c=new Array(r>1?r-1:0),s=1;s<r;s++)c[s-1]=arguments[s];return n.apply(a,[o].concat(c))}}}))}function Ft(t,e,n,i){return function(t,e,n,i,o){var a=Ot(t);Ht(e||"",n,(function(e,n){(function(t,e,n,i){var o,a,r=Lt(e);return r.ns&&(a=r.ns,o=new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")),(At[Ot(t)]||[]).filter((function(t){return t&&(!r.e||t.e===r.e)&&(!r.ns||o.test(t.ns))&&(!n||Ot(t.fn)===Ot(n))&&(!i||t.sel===i)}))})(t,e,n,i).forEach((function(e){delete At[a][e.i],"removeEventListener"in t&&t.removeEventListener(Rt(e.e),e.proxy,Nt(e,void 0))}))}))}(t,n,i,e)}function Ot(t){return t._bid||(t._bid=Bt())}function Pt(t){var e,n={originalEvent:t};for(e in t)Tt.test(e)||void 0===t[e]||(n[e]=t[e]);return yt(It,(function(e,i){n[i]=function(){return this[e]=St,t[i].apply(t,arguments)},n[e]=jt})),n}function Lt(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function Rt(t){return Ct[t]||t}function Nt(t,e){return t.del&&("focus"===t.e||"blur"===t.e)||!!e}function Ht(t,e,n){t.split(/\s/).forEach((function(t){n(t,e)}))}function Mt(t,e,n){for(;t&&!Ut(t,e);)t=t!==n&&!zt(t)&&t.parentNode;return t}function zt(t){return null!=t&&t.nodeType===t.DOCUMENT_NODE}function Ut(t,e){if(!t||1!==t.nodeType)return!1;var n,i=t.webkitMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var o=t.parentNode,a=!o,r=document.createElement("div");return a&&(o=r).appendChild(t),n=~function(t,e){var n;return zt(t)&&wt.test(e)?(n=t.getElementById(RegExp.$1))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:Array.prototype.slice.call(kt.test(e)?t.getElementsByClassName(RegExp.$1):Dt.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))}(o,e).indexOf(t),a&&r.removeChild(t),n}function Kt(t,e){return t!==e&&t.contains(e)}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-interact-img-view{position:fixed;top:0;right:0;bottom:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:100;background:rgba(25,18,25,.9);cursor:-webkit-zoom-out;cursor:zoom-out}");var qt="x-interact-img-view",$t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.list=e.list,this.containerId=e.containerId?"#"+e.containerId:"",this.container=this.containerId&&document.querySelector(this.containerId)||document.body,this.winHeight=window.innerHeight||document.documentElement.clientHeight,this.winWidth=window.innerWidth||document.documentElement.clientWidth}return a(t,[{key:"render",value:function(){var t=this.makeTpl(this.list);this.container.insertAdjacentHTML("beforeend",t),this.bindEvent()}},{key:"makeTpl",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e[n]||{},o=i||{},a=o.url,r=o.width,c=o.height;r>c?(r=Math.min(r,this.winWidth)-100,t="width: ".concat(r,"px")):(c=Math.min(c,this.winHeight)-100,t="height: ".concat(c,"px"));var s='\n            <div class="'.concat(qt,'">\n                <img src="').concat(a,'" style="').concat(t,'"/>\n            </div>\n        ');return s}},{key:"destory",value:function(){Ft(this.container,".".concat(qt),"click");var t=this.container.querySelector(".".concat(qt));t&&(t.outerHTML="")}},{key:"bindEvent",value:function(){var t=this;_t(this.container,".".concat(qt),"click",(function(){t.destory()}))}}]),t}(),Vt="object"===("undefined"==typeof window?"undefined":n(window))&&window.self===window?navigator.userAgent:"",Wt={version:"1",imgpath:"https://baidubox-emoji.cdn.bcebos.com/imgs/",packages:[{id:"1",name:"emoji",package_icon:"package_01.png",version:"2.0.2",blacklist:[],emoticons:[{id:"001001",text:"[å¾®ç¬‘]",icon:"%5B%E5%BE%AE%E7%AC%91%5D.png"},{id:"001002",text:"[å¼€å¿ƒ]",icon:"%5B%E5%BC%80%E5%BF%83%5D.png"},{id:"001003",text:"[æœŸå¾…]",icon:"%5B%E6%9C%9F%E5%BE%85%5D.png"},{id:"001004",text:"[å¤§ç¬‘]",icon:"%5B%E5%A4%A7%E7%AC%91%5D.png"},{id:"001005",text:"[é¼“æŒ]",icon:"%5B%E9%BC%93%E6%8E%8C%5D.png"},{id:"001006",text:"[æ‚ é—²]",icon:"%5B%E6%82%A0%E9%97%B2%5D.png"},{id:"001007",text:"[ç¬‘å“­]",icon:"%5B%E7%AC%91%E5%93%AD%5D.png"},{id:"001008",text:"[ä¸è¦å•Š]",icon:"%5B%E4%B8%8D%E8%A6%81%E5%95%8A%5D.png"},{id:"001009",text:"[å•Š]",icon:"%5B%E5%95%8A%5D.png"},{id:"001010",text:"[å“Ÿ]",icon:"%5B%E5%93%9F%5D.png"},{id:"001011",text:"[æ±—]",icon:"%5B%E6%B1%97%5D.png"},{id:"001012",text:"[æŠ é¼»]",icon:"%5B%E6%8A%A0%E9%BC%BB%5D.png"},{id:"001013",text:"[å“¼]",icon:"%5B%E5%93%BC%5D.png"},{id:"001014",text:"[å‘æ€’]",icon:"%5B%E5%8F%91%E6%80%92%5D.png"},{id:"001015",text:"[å§”å±ˆ]",icon:"%5B%E5%A7%94%E5%B1%88%5D.png"},{id:"001016",text:"[ä¸é«˜å…´]",icon:"%5B%E4%B8%8D%E9%AB%98%E5%85%B4%5D.png"},{id:"001017",text:"[å›§]",icon:"%5B%E5%9B%A7%5D.png"},{id:"001018",text:"[æƒŠå“­]",icon:"%5B%E6%83%8A%E5%93%AD%5D.png"},{id:"001019",text:"[å¤§å“­]",icon:"%5B%E5%A4%A7%E5%93%AD%5D.png"},{id:"001020",text:"[æµæ³ª]",icon:"%5B%E6%B5%81%E6%B3%AA%5D.png"},{id:"001021",text:"[å®³ç¾]",icon:"%5B%E5%AE%B3%E7%BE%9E%5D.png"},{id:"001022",text:"[äº²äº²]",icon:"%5B%E4%BA%B2%E4%BA%B2%5D.png"},{id:"001023",text:"[è‰²]",icon:"%5B%E8%89%B2%5D.png"},{id:"001024",text:"[èˆ”å±]",icon:"%5B%E8%88%94%E5%B1%8F%5D.png"},{id:"001025",text:"[å¾—æ„]",icon:"%5B%E5%BE%97%E6%84%8F%5D.png"},{id:"001026",text:"[ç–‘é—®]",icon:"%5B%E7%96%91%E9%97%AE%5D.png"},{id:"001027",text:"[æ™•]",icon:"%5B%E6%99%95%5D.png"},{id:"001028",text:"[å¤§å“ˆ]",icon:"%5B%E5%A4%A7%E5%93%88%5D.png"},{id:"001029",text:"[äºŒå“ˆ]",icon:"%5B%E4%BA%8C%E5%93%88%5D.png"},{id:"001030",text:"[ä¸‰å“ˆ]",icon:"%5B%E4%B8%89%E5%93%88%5D.png"},{id:"001031",text:"[ç™½çœ¼]",icon:"%5B%E7%99%BD%E7%9C%BC%5D.png"},{id:"001032",text:"[é˜´é™©]",icon:"%5B%E9%98%B4%E9%99%A9%5D.png"},{id:"001033",text:"[ä½ æ‡‚çš„]",icon:"%5B%E4%BD%A0%E6%87%82%E7%9A%84%5D.png"},{id:"001034",text:"[å·ç¬‘]",icon:"%5B%E5%81%B7%E7%AC%91%5D.png"},{id:"001035",text:"[ç¡è§‰]",hideInEmojiKeyboard:!0,icon:"%5B%E7%9D%A1%E8%A7%89%5D.png"},{id:"001036",text:"[å“ˆæ¬ ]",icon:"%5B%E5%93%88%E6%AC%A0%5D.png"},{id:"001037",text:"[å†è§]",icon:"%5B%E5%86%8D%E8%A7%81%5D.png"},{id:"001038",text:"[é„™è§†]",icon:"%5B%E9%84%99%E8%A7%86%5D.png"},{id:"001039",text:"[æŠ“ç‹‚]",icon:"%5B%E6%8A%93%E7%8B%82%5D.png"},{id:"001040",text:"[å’’éª‚]",icon:"%5B%E5%92%92%E9%AA%82%5D.png"},{id:"001041",text:"[è¡°]",icon:"%5B%E8%A1%B0%5D.png"},{id:"001042",text:"[éª·é«…]",icon:"%5B%E9%AA%B7%E9%AB%85%5D.png"},{id:"001043",text:"[å˜˜]",icon:"%5B%E5%98%98%5D.png"},{id:"001044",text:"[é—­å˜´]",icon:"%5B%E9%97%AD%E5%98%B4%5D.png"},{id:"001045",text:"[å‘†]",icon:"%5B%E5%91%86%5D.png"},{id:"001046",text:"[ä»€ä¹ˆé¬¼]",icon:"%5B%E4%BB%80%E4%B9%88%E9%AC%BC%5D.png"},{id:"001047",text:"[å]",icon:"%5B%E5%90%90%5D.png"},{id:"001048",text:"[å·²é˜…]",icon:"%5B%E5%B7%B2%E9%98%85%5D.png"},{id:"001049",text:"[åŒä¸Š]",icon:"%5B%E5%90%8C%E4%B8%8A%5D.png"},{id:"001050",text:"[å‹å†›]",icon:"%5B%E5%8F%8B%E5%86%9B%5D.png"},{id:"001051",text:"[çˆ±é’±]",icon:"%5B%E7%88%B1%E9%92%B1%5D.png"},{id:"001053",text:"[å›½å®]",icon:"%5B%E5%9B%BD%E5%AE%9D%5D.png"},{id:"001054",text:"[ç¾Šé©¼]",icon:"%5B%E7%BE%8A%E9%A9%BC%5D.png"},{id:"001055",text:"[é²œèŠ±]",icon:"%5B%E9%B2%9C%E8%8A%B1%5D.png"},{id:"001056",text:"[ä¸­å›½åŠ æ²¹]",hideInEmojiKeyboard:!0,icon:"%5B%E4%B8%AD%E5%9B%BD%E5%8A%A0%E6%B2%B9%5D.png"},{id:"001057",text:"[åº†ç¥]",icon:"%5B%E5%BA%86%E7%A5%9D%5D.png"},{id:"001058",text:"[ç”Ÿæ—¥è›‹ç³•]",icon:"%5B%E7%94%9F%E6%97%A5%E8%9B%8B%E7%B3%95%5D.png"},{id:"001059",text:"[MicDrop]",hideInEmojiKeyboard:!0,icon:"%5BMicDrop%5D.png"},{id:"001060",text:"[èµåŒ]",icon:"%5B%E8%B5%9E%E5%90%8C%5D.png"},{id:"001061",text:"[è¯ä¸¸]",icon:"%5B%E8%8D%AF%E4%B8%B8%5D.png"},{id:"001062",text:"[èœ¡çƒ›]",icon:"%5B%E8%9C%A1%E7%83%9B%5D.png"},{id:"001063",text:"[é¸¡è›‹]",icon:"%5B%E9%B8%A1%E8%9B%8B%5D.png"},{id:"001064",text:"[æµª]",hideInEmojiKeyboard:!0,icon:"%5B%E6%B5%AA%5D.png"},{id:"001065",text:"[æ‰“call]",icon:"%5B%E6%89%93call%5D.png"},{id:"001066",text:"[å°¬ç¬‘]",icon:"%5B%E5%B0%AC%E7%AC%91%5D.png"},{id:"001067",text:"[åç¬‘]",icon:"%5B%E5%9D%8F%E7%AC%91%5D.png"},{id:"001068",text:"[æ²¡çœ¼çœ‹]",icon:"%5B%E6%B2%A1%E7%9C%BC%E7%9C%8B%5D.png"},{id:"001069",text:"[å˜¿å“ˆ]",icon:"%5B%E5%98%BF%E5%93%88%5D.png"},{id:"001070",text:"[å‰é¢çš„åˆ«èµ°]",icon:"%5B%E5%89%8D%E9%9D%A2%E7%9A%84%E5%88%AB%E8%B5%B0%5D.png"},{id:"001071",text:"[æ»‘ç¨½]",icon:"%5B%E6%BB%91%E7%A8%BD%5D.png"},{id:"001072",text:"[æ‚è„¸]",icon:"%5B%E6%8D%82%E8%84%B8%5D.png"},{id:"001073",text:"[å·¦æ‚è„¸]",icon:"%5B%E5%B7%A6%E6%8D%82%E8%84%B8%5D.png"},{id:"001074",text:"[666]",icon:"%5B666%5D.png"},{id:"001075",text:"[2018]",hideInEmojiKeyboard:!0,icon:"%5B2018%5D.png"},{id:"001076",text:"[ç¦]",hideInEmojiKeyboard:!0,icon:"%5B%E7%A6%8F%5D.png"},{id:"001077",text:"[çº¢åŒ…]",hideInEmojiKeyboard:!0,icon:"%5B%E7%BA%A2%E5%8C%85%5D.png"},{id:"001078",text:"[é­ç‚®]",icon:"%5B%E9%9E%AD%E7%82%AE%5D.png"},{id:"001079",text:"[è´¢ç¥]",icon:"%5B%E8%B4%A2%E7%A5%9E%5D.png"},{id:"001080",text:"[é¥ºå­]",hideInEmojiKeyboard:!0,icon:"%5B%E9%A5%BA%E5%AD%90%5D.png"},{id:"001081",text:"[è½¦ç¥¨]",hideInEmojiKeyboard:!0,icon:"%5B%E8%BD%A6%E7%A5%A8%5D.png"},{id:"001082",text:"[ç«è½¦]",icon:"%5B%E7%81%AB%E8%BD%A6%5D.png"},{id:"001083",text:"[é£æœº]",icon:"%5B%E9%A3%9E%E6%9C%BA%5D.png"},{id:"001084",text:"[å°„é—¨]",hideInEmojiKeyboard:!0,icon:"%5B%E5%B0%84%E9%97%A8%5D.png"},{id:"001085",text:"[çº¢ç‰Œ]",hideInEmojiKeyboard:!0,icon:"%5B%E7%BA%A2%E7%89%8C%5D.png"},{id:"001086",text:"[é»„ç‰Œ]",hideInEmojiKeyboard:!0,icon:"%5B%E9%BB%84%E7%89%8C%5D.png"},{id:"001087",text:"[å“¨å­]",hideInEmojiKeyboard:!0,icon:"%5B%E5%93%A8%E5%AD%90%5D.png"},{id:"001088",text:"[æ¯”åˆ†]",hideInEmojiKeyboard:!0,icon:"%5B%E6%AF%94%E5%88%86%5D.png"},{id:"001089",text:"[å•¤é…’]",hideInEmojiKeyboard:!0,icon:"%5B%E5%95%A4%E9%85%92%5D.png"},{id:"001090",text:"[è¶³çƒ]",hideInEmojiKeyboard:!0,icon:"%5B%E8%B6%B3%E7%90%83%5D.png"},{id:"001091",text:"[å¤§åŠ›ç¥æ¯]",hideInEmojiKeyboard:!0,icon:"%5B%E5%A4%A7%E5%8A%9B%E7%A5%9E%E6%9D%AF%5D.png"},{id:"001092",text:"[é”¦é²¤]",hideInEmojiKeyboard:!0,icon:"%5B%E9%94%A6%E9%B2%A4%5D.png"},{id:"001095",text:"[åŒæ‰‹é¼“æŒ]",icon:"%5B%E5%8F%8C%E6%89%8B%E9%BC%93%E6%8E%8C%5D.png"},{id:"001096",text:"[ç«ç„°]",hideInEmojiKeyboard:!0,icon:"%5B%E7%81%AB%E7%84%B0%5D.png"},{id:"001097",text:"[ç¥ˆç¦]",icon:"%5B%E7%A5%88%E7%A6%8F%5D.png"},{id:"001098",text:"[äº²å»]",icon:"%5B%E4%BA%B2%E5%90%BB%5D.png"},{id:"001099",text:"[å¤©ä½¿]",hideInEmojiKeyboard:!0,icon:"%5B%E5%A4%A9%E4%BD%BF%5D.png"},{id:"001100",text:"[æ¨±èŠ±]",hideInEmojiKeyboard:!0,icon:"%5B%E6%A8%B1%E8%8A%B1%5D.png"},{id:"001101",text:"[åŠ æ²¹]",icon:"%5B%E5%8A%A0%E6%B2%B9%5D.png"},{id:"001102",text:"[æ³¡æ³¡æª]",icon:"%5B%E6%B3%A1%E6%B3%A1%E6%9E%AA%5D.png"},{id:"001103",text:"[æ°”çƒ]",hideInEmojiKeyboard:!0,icon:"%5B%E6%B0%94%E7%90%83%5D.png"},{id:"001104",text:"[æ£’æ£’ç³–]",icon:"%5B%E6%A3%92%E6%A3%92%E7%B3%96%5D.png"},{id:"001105",text:"[å°é»„é¸­]",icon:"%5B%E5%B0%8F%E9%BB%84%E9%B8%AD%5D.png"},{id:"001106",text:"[ç²½å­]",hideInEmojiKeyboard:!0,icon:"%5B%E7%B2%BD%E5%AD%90%5D.png"},{id:"001107",text:"[70å‘¨å¹´]",hideInEmojiKeyboard:!0,icon:"%5B70%E5%91%A8%E5%B9%B4%5D.png"},{id:"001108",text:"[å›½åº†]",hideInEmojiKeyboard:!0,icon:"%5B%E5%9B%BD%E5%BA%86%5D.png"},{id:"001109",text:"[å›½åº†å¿«ä¹]",hideInEmojiKeyboard:!0,icon:"%5B%E5%9B%BD%E5%BA%86%E5%BF%AB%E4%B9%90%5D.png"},{id:"001110",text:"[åœ£è¯è€äºº]",hideInEmojiKeyboard:!0,icon:"%5B%E5%9C%A3%E8%AF%9E%E8%80%81%E4%BA%BA%5D.png"},{id:"001111",text:"[åœ£è¯æ ‘]",hideInEmojiKeyboard:!0,icon:"%5B%E5%9C%A3%E8%AF%9E%E6%A0%91%5D.png"},{id:"001112",text:"[åœ£è¯è¢œ]",hideInEmojiKeyboard:!0,icon:"%5B%E5%9C%A3%E8%AF%9E%E8%A2%9C%5D.png"},{id:"001113",text:"[é“ƒé“›]",hideInEmojiKeyboard:!0,icon:"%5B%E9%93%83%E9%93%9B%5D.png"},{id:"001114",text:"[å°è€é¼ ]",icon:"%5B%E5%B0%8F%E8%80%81%E9%BC%A0%5D.png"},{id:"001115",text:"[2020]",hideInEmojiKeyboard:!0,icon:"%5B2020%5D.png"},{id:"001117",text:"[ç¯ç¬¼]",icon:"%5B%E7%81%AF%E7%AC%BC%5D.png"},{id:"001118",text:"[é’±è¢‹]",icon:"%5B%E9%92%B1%E8%A2%8B%5D.png"},{id:"001119",text:"[é¼ å¹´å¤§å‰]",hideInEmojiKeyboard:!0,icon:"%5B%E9%BC%A0%E5%B9%B4%E5%A4%A7%E5%90%89%5D.png"},{id:"001120",text:"[èˆç‹®]",icon:"%5B%E8%88%9E%E7%8B%AE%5D.png"},{id:"001121",text:"[æˆ´å£ç½©]",hideInEmojiKeyboard:!0,icon:"%5B%E6%88%B4%E5%8F%A3%E7%BD%A9%5D.png"},{id:"001122",text:"[åŠ æ²¹å•Š]",icon:"%5B%E5%8A%A0%E6%B2%B9%E5%95%8A%5D.png"},{id:"001123",text:"[å‹¤æ´—æ‰‹]",icon:"%5B%E5%8B%A4%E6%B4%97%E6%89%8B%5D.png"},{id:"001124",text:"[ä¸­å›½]",icon:"%5B%E4%B8%AD%E5%9B%BD%5D.png"},{id:"001125",text:"[n95å£ç½©]",icon:"%5Bn95%E5%8F%A3%E7%BD%A9%5D.png"},{id:"001126",text:"[æœˆäº®]",icon:"%5B%E6%9C%88%E4%BA%AE%5D.png"},{id:"001127",text:"[â†’_â†’]",hideInEmojiKeyboard:!0,icon:"%5B%E2%86%92_%E2%86%92%5D.png"},{id:"001128",text:"[âš¡]",hideInEmojiKeyboard:!0,icon:"%5B%E2%9A%A1%5D.png"},{id:"001129",text:"[ğŸ‰]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%8D%89%5D.png"},{id:"001130",text:"[ğŸ—]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%8D%97%5D.png"},{id:"001131",text:"[ğŸ„]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%8E%84%5D.png"},{id:"001132",text:"[ğŸ‘]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%91%8F%5D.png"},{id:"001133",text:"[ğŸ‘»]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%91%BB%5D.png"},{id:"001134",text:"[ğŸ’Š]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%92%8A%5D.png"},{id:"001135",text:"[ğŸ’£]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%92%A3%5D.png"},{id:"001136",text:"[ğŸ’©]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%92%A9%5D.png"},{id:"001137",text:"[ğŸ¤“]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%A4%93%5D.png"},{id:"001138",text:"[ğŸ¤—]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%A4%97%5D.png"},{id:"001139",text:"[ğŸ‘¿]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%91%BF%5D.png"},{id:"001140",text:"[ğŸ˜±]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%98%B1%5D.png"},{id:"001141",text:"[ğŸ™ƒ]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%99%83%5D.png"},{id:"001142",text:"[ğŸ™…]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%99%85%5D.png"},{id:"001143",text:"[ğŸ™ˆ]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%99%88%5D.png"},{id:"001144",text:"[ğŸ™‰]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%99%89%5D.png"},{id:"001145",text:"[ğŸ™Š]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%99%8A%5D.png"},{id:"001146",text:"[ğŸ™‹]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%99%8B%5D.png"},{id:"001147",text:"[ğŸ™]",hideInEmojiKeyboard:!0,icon:"%5B%F0%9F%99%8F%5D.png"},{id:"001148",text:"[çˆ±ä½ ]",icon:"%5B%E7%88%B1%E4%BD%A0%5D.png"},{id:"001149",text:"[å¥¥ç‰¹æ›¼]",icon:"%5B%E5%A5%A5%E7%89%B9%E6%9B%BC%5D.png"},{id:"001150",text:"[æ—…è¡Œ]",icon:"%5B%E6%97%85%E8%A1%8C%5D.png"},{id:"001151",text:"[ç‚¹äº®å¹³å®‰ç¯]",icon:"%5B%E7%82%B9%E4%BA%AE%E5%B9%B3%E5%AE%89%E7%81%AF%5D.png"},{id:"001152",text:"[è‚¥çš‚]",icon:"%5B%E8%82%A5%E7%9A%82%5D.png"},{id:"001153",text:"[æµ®äº‘]",icon:"%5B%E6%B5%AE%E4%BA%91%5D.png"},{id:"001154",text:"[æ„Ÿå†’]",icon:"%5B%E6%84%9F%E5%86%92%5D.png"},{id:"001155",text:"[å¹²æ¯]",icon:"%5B%E5%B9%B2%E6%9D%AF%5D.png"},{id:"001156",text:"[ç»™åŠ›]",icon:"%5B%E7%BB%99%E5%8A%9B%5D.png"},{id:"001157",text:"[ç»™ä½ å°å¿ƒå¿ƒ]",icon:"%5B%E7%BB%99%E4%BD%A0%E5%B0%8F%E5%BF%83%E5%BF%83%5D.png"},{id:"001158",text:"[è¯ç­’]",icon:"%5B%E8%AF%9D%E7%AD%92%5D.png"},{id:"001159",text:"[æŒ¤çœ¼]",icon:"%5B%E6%8C%A4%E7%9C%BC%5D.png"},{id:"001160",text:"[ç¤¼ç‰©]",icon:"%5B%E7%A4%BC%E7%89%A9%5D.png"},{id:"001161",text:"[ç»¿ä¸å¸¦]",icon:"%5B%E7%BB%BF%E4%B8%9D%E5%B8%A6%5D.png"},{id:"001162",text:"[ç”·å­©å„¿]",icon:"%5B%E7%94%B7%E5%AD%A9%E5%84%BF%5D.png"},{id:"001163",text:"[å¥³å­©å„¿]",icon:"%5B%E5%A5%B3%E5%AD%A9%E5%84%BF%5D.png"},{id:"001164",text:"[æ²™å°˜æš´]",icon:"%5B%E6%B2%99%E5%B0%98%E6%9A%B4%5D.png"},{id:"001165",text:"[ä¼¤å¿ƒ]",icon:"%5B%E4%BC%A4%E5%BF%83%5D.png"},{id:"001166",text:"[ç”Ÿç—…]",icon:"%5B%E7%94%9F%E7%97%85%5D.png"},{id:"001167",text:"[é…¸]",icon:"%5B%E9%85%B8%5D.png"},{id:"001168",text:"[å¤ªå¼€å¿ƒ]",icon:"%5B%E5%A4%AA%E5%BC%80%E5%BF%83%5D.png"},{id:"001169",text:"[å¤ªé˜³]",icon:"%5B%E5%A4%AA%E9%98%B3%5D.png"},{id:"001170",text:"[å…”å­]",icon:"%5B%E5%85%94%E5%AD%90%5D.png"},{id:"001171",text:"[å¨æ­¦]",icon:"%5B%E5%A8%81%E6%AD%A6%5D.png"},{id:"001172",text:"[å¾®é£]",icon:"%5B%E5%BE%AE%E9%A3%8E%5D.png"},{id:"001173",text:"[å›´è„–]",icon:"%5B%E5%9B%B4%E8%84%96%5D.png"},{id:"001174",text:"[å›´è§‚]",icon:"%5B%E5%9B%B4%E8%A7%82%5D.png"},{id:"001175",text:"[æ­¦æ±‰åŠ æ²¹]",icon:"%5B%E6%AD%A6%E6%B1%89%E5%8A%A0%E6%B2%B9%5D.png"},{id:"001176",text:"[å–œ]",icon:"%5B%E5%96%9C%5D.png"},{id:"001177",text:"[ä¸‹é›¨]",icon:"%5B%E4%B8%8B%E9%9B%A8%5D.png"},{id:"001178",text:"[éŸ³ä¹]",icon:"%5B%E9%9F%B3%E4%B9%90%5D.png"},{id:"001179",text:"[èµå•Š]",icon:"%5B%E8%B5%9E%E5%95%8A%5D.png"},{id:"001180",text:"[ç‚¸é¸¡è…¿]",icon:"%5B%E7%82%B8%E9%B8%A1%E8%85%BF%5D.png"},{id:"001181",text:"[ç…§ç›¸æœº]",icon:"%5B%E7%85%A7%E7%9B%B8%E6%9C%BA%5D.png"},{id:"001182",text:"[é’Ÿ]",icon:"%5B%E9%92%9F%5D.png"},{id:"001183",text:"[çŒªå¤´]",hideInEmojiKeyboard:!0,icon:"%5B%E7%8C%AA%E5%A4%B4%5D.png"},{id:"001184",text:"[good]",icon:"%5Bgood%5D.png"},{id:"001185",text:"[æŠ±æŠ±]",icon:"%5B%E6%8A%B1%E6%8A%B1%5D.png"},{id:"001186",text:"[æ‚²ä¼¤]",icon:"%5B%E6%82%B2%E4%BC%A4%5D.png"},{id:"001187",text:"[å¹¶ä¸ç®€å•]",icon:"%5B%E5%B9%B6%E4%B8%8D%E7%AE%80%E5%8D%95%5D.png"},{id:"001188",text:"[é¦‹å˜´]",icon:"%5B%E9%A6%8B%E5%98%B4%5D.png"},{id:"001189",text:"[åƒç“œ]",icon:"%5B%E5%90%83%E7%93%9C%5D.png"},{id:"001190",text:"[æ‰“è„¸]",icon:"%5B%E6%89%93%E8%84%B8%5D.png"},{id:"001191",text:"[é¡¶]",icon:"%5B%E9%A1%B6%5D.png"},{id:"001192",text:"[è´¹è§£]",icon:"%5B%E8%B4%B9%E8%A7%A3%5D.png"},{id:"001193",text:"[è·ªäº†]",icon:"%5B%E8%B7%AA%E4%BA%86%5D.png"},{id:"001194",text:"[é»‘çº¿]",icon:"%5B%E9%BB%91%E7%BA%BF%5D.png"},{id:"001195",text:"[äº’ç²‰]",icon:"%5B%E4%BA%92%E7%B2%89%5D.png"},{id:"001196",text:"[å¯æ€œ]",icon:"%5B%E5%8F%AF%E6%80%9C%5D.png"},{id:"001197",text:"[å›°]",icon:"%5B%E5%9B%B0%5D.png"},{id:"001198",text:"[æ¥]",icon:"%5B%E6%9D%A5%5D.png"},{id:"001199",text:"[å–µå–µ]",icon:"%5B%E5%96%B5%E5%96%B5%5D.png"},{id:"001200",text:"[æ‹³å¤´]",icon:"%5B%E6%8B%B3%E5%A4%B4%5D.png"},{id:"001201",text:"[å¼±]",icon:"%5B%E5%BC%B1%5D.png"},{id:"001202",text:"[å¤±æœ›]",icon:"%5B%E5%A4%B1%E6%9C%9B%5D.png"},{id:"001203",text:"[æ€è€ƒ]",icon:"%5B%E6%80%9D%E8%80%83%5D.png"},{id:"001204",text:"[æ‘Šæ‰‹]",icon:"%5B%E6%91%8A%E6%89%8B%5D.png"},{id:"001205",text:"[æ¡æ‰‹]",icon:"%5B%E6%8F%A1%E6%89%8B%5D.png"},{id:"001206",text:"[å˜»å˜»]",icon:"%5B%E5%98%BB%E5%98%BB%5D.png"},{id:"001207",text:"[å¿ƒ]",icon:"%5B%E5%BF%83%5D.png"},{id:"001208",text:"[è€¶]",icon:"%5B%E8%80%B6%5D.png"},{id:"001209",text:"[å³å“¼å“¼]",icon:"%5B%E5%8F%B3%E5%93%BC%E5%93%BC%5D.png"},{id:"001210",text:"[å·¦å“¼å“¼]",icon:"%5B%E5%B7%A6%E5%93%BC%E5%93%BC%5D.png"},{id:"001211",text:"[ä½œæ–]",icon:"%5B%E4%BD%9C%E6%8F%96%5D.png"},{id:"001212",text:"[haha]",icon:"%5Bhaha%5D.png"},{id:"001213",text:"[NO]",icon:"%5BNO%5D.png"},{id:"001214",text:"[ok]",icon:"%5Bok%5D.png"},{id:"001215",text:"[æ¬§è€¶]",icon:"%5B%E6%AC%A7%E8%80%B6%5D.png"},{id:"001216",text:"[å«Œå¼ƒ]",icon:"%5B%E5%AB%8C%E5%BC%83%5D.png"},{id:"001217",text:"[æƒŠæ]",icon:"%5B%E6%83%8A%E6%81%90%5D.png"},{id:"001218",text:"[ç¤¾ä¼š]",icon:"%5B%E7%A4%BE%E4%BC%9A%5D.png"},{id:"001219",text:"[okå•Š]",icon:"%5Bok%E5%95%8A%5D.png"},{id:"001220",text:"[è€¶è€¶è€¶]",icon:"%5B%E8%80%B6%E8%80%B6%E8%80%B6%5D.png"},{id:"001221",text:"[æ’‡å˜´]",icon:"%5B%E6%92%87%E5%98%B4%5D.png"},{id:"001222",text:"[emmm]",icon:"%5Bemmm%5D.png"},{id:"001223",text:"[æš—ä¸­è§‚å¯Ÿ]",icon:"%5B%E6%9A%97%E4%B8%AD%E8%A7%82%E5%AF%9F%5D.png"},{id:"001224",text:"[æ‹’ç»]",icon:"%5B%E6%8B%92%E7%BB%9D%5D.png"},{id:"001225",text:"[è§‚æœ›]",icon:"%5B%E8%A7%82%E6%9C%9B%5D.png"},{id:"001226",text:"[è‹¦æ€å†¥æƒ³]",icon:"%5B%E8%8B%A6%E6%80%9D%E5%86%A5%E6%83%B3%5D.png"},{id:"001227",text:"[å¥¥åˆ©ç»™]",icon:"%5B%E5%A5%A5%E5%88%A9%E7%BB%99%5D.png"},{id:"001228",text:"[æŒ å¤´]",icon:"%5B%E6%8C%A0%E5%A4%B4%5D.png"},{id:"001229",text:"[å‡è§†]",icon:"%5B%E5%87%9D%E8%A7%86%5D.png"},{id:"001230",text:"[æ— æ‰€è°“]",icon:"%5B%E6%97%A0%E6%89%80%E8%B0%93%5D.png"},{id:"001231",text:"[æ‘¸å¤´]",icon:"%5B%E6%91%B8%E5%A4%B4%5D.png"},{id:"001232",text:"[nonono]",icon:"%5Bnonono%5D.png"},{id:"001233",text:"[æ¡è‰]",icon:"%5B%E6%8F%A1%E8%8D%89%5D.png"},{id:"001234",text:"[è‹¦ç¬‘]",icon:"%5B%E8%8B%A6%E7%AC%91%5D.png"},{id:"001235",text:"[é¥®é…’é†‰]",icon:"%5B%E9%A5%AE%E9%85%92%E9%86%89%5D.png"},{id:"001236",text:"[èµ°ä½ ]",icon:"%5B%E8%B5%B0%E4%BD%A0%5D.png"},{id:"001237",text:"[æˆ³è„¸]",icon:"%5B%E6%88%B3%E8%84%B8%5D.png"},{id:"001238",text:"[å‘•]",icon:"%5B%E5%91%95%5D.png"},{id:"001239",text:"[æ³ªå¥”]",icon:"%5B%E6%B3%AA%E5%A5%94%5D.png"},{id:"001240",text:"[é¢]",icon:"%5B%E9%A2%9D%5D.png"},{id:"001241",text:"[çŸ³åŒ–]",icon:"%5B%E7%9F%B3%E5%8C%96%5D.png"},{id:"001242",text:"[å·¥äºº]",hideInEmojiKeyboard:!0,icon:"%5B%E5%B7%A5%E4%BA%BA%5D.png"},{id:"001243",text:"[å†œæ°‘]",hideInEmojiKeyboard:!0,icon:"%5B%E5%86%9C%E6%B0%91%5D.png"},{id:"001244",text:"[ç¨»è‰äºº]",hideInEmojiKeyboard:!0,icon:"%5B%E7%A8%BB%E8%8D%89%E4%BA%BA%5D.png"},{id:"001245",text:"[é”¦æ——]",hideInEmojiKeyboard:!0,icon:"%5B%E9%94%A6%E6%97%97%5D.png"},{id:"001246",text:"[å¤§çº¢èŠ±]",hideInEmojiKeyboard:!0,icon:"%5B%E5%A4%A7%E7%BA%A2%E8%8A%B1%5D.png"},{id:"001247",text:"[é›ªèŠ±]",icon:"%5B%E9%9B%AA%E8%8A%B1%5D.png"},{id:"001248",text:"[2021]",icon:"%5B2021%5D.png"},{id:"001250",text:"[ç‰›å¹´å¤§å‰]",icon:"%5B%E7%89%9B%E5%B9%B4%E5%A4%A7%E5%90%89%5D.png"},{id:"001251",text:"[ç‰›ç¦åˆ°]",icon:"%5B%E7%89%9B%E7%A6%8F%E5%88%B0%5D.png"},{id:"001252",text:"[äº‘çº¢åŒ…]",icon:"%5B%E4%BA%91%E7%BA%A2%E5%8C%85%5D.png"},{id:"001253",text:"[ç‰›æ´‹æ´‹]",icon:"%5B%E7%89%9B%E6%B4%8B%E6%B4%8B%5D.png"},{id:"001254",text:"[ç‰›æ–¯æ‹‰]",icon:"%5B%E7%89%9B%E6%96%AF%E6%8B%89%5D.png"},{id:"001255",text:"[äº‘å–é…’]",icon:"%5B%E4%BA%91%E5%96%9D%E9%85%92%5D.png"},{id:"001256",text:"[æ¸©æš–]",icon:"%5B%E6%B8%A9%E6%9A%96%5D.png"},{id:"001257",text:"[Salute]",icon:"%5BSalute%5D.png"},{id:"001258",text:"[å¹æ°”]",icon:"%5B%E5%8F%B9%E6%B0%94%5D.png"},{id:"001259",text:"[è£‚å¼€]",icon:"%5B%E8%A3%82%E5%BC%80%5D.png"},{id:"001260",text:"[å‰å®³]",icon:"%5B%E5%8E%89%E5%AE%B3%5D.png"},{id:"001261",text:"[åƒé²¸]",icon:"%5B%E5%90%83%E9%B2%B8%5D.png"},{id:"001262",text:"[æ¯”å¿ƒ]",icon:"%5B%E6%AF%94%E5%BF%83%5D.png"},{id:"001263",text:"[AWSL]",icon:"%5BAWSL%5D.png"},{id:"001264",text:"[æ‰“å·¥äºº]",icon:"%5B%E6%89%93%E5%B7%A5%E4%BA%BA%5D.png"},{id:"001265",text:"[å°çº¢èŠ±]",icon:"%5B%E5%B0%8F%E7%BA%A2%E8%8A%B1%5D.png"},{id:"001266",text:"[é‡‘ç‰Œ]",icon:"%5B%E9%87%91%E7%89%8C%5D.png"},{id:"001267",text:"[ç‰›å•¤]",icon:"%5B%E7%89%9B%E5%95%A4%5D.png"},{id:"001268",text:"[æ˜Ÿæ˜Ÿ]",icon:"%5B%E6%98%9F%E6%98%9F%5D.png"},{id:"001269",text:"[åŠæ˜Ÿ]",icon:"%5B%E5%8D%8A%E6%98%9F%5D.png"},{id:"001270",text:"[2022]",icon:"%5B2022%5D.png"},{id:"001271",text:"[è™å¹´å¤§å‰]",icon:"%5B%E8%99%8E%E5%B9%B4%E5%A4%A7%E5%90%89%5D.png"},{id:"001272",text:"[è™å¦å¦]",icon:"%5B%E8%99%8E%E5%A6%9E%E5%A6%9E%5D.png"},{id:"001273",text:"[å°è„‘æ–§]",icon:"%5B%E5%B0%8F%E8%84%91%E6%96%A7%5D.png"},{id:"001274",text:"[é“¶ç‰Œ]",icon:"%5B%E9%93%B6%E7%89%8C%5D.png"},{id:"001275",text:"[é“œç‰Œ]",icon:"%5B%E9%93%9C%E7%89%8C%5D.png"},{id:"001276",text:"[æ»‘é›ª]",icon:"%5B%E6%BB%91%E9%9B%AA%5D.png"}]}]},Jt=g(Wt.packages,1)[0],Yt=Jt.emoticons;Jt.blacklist,Jt.version,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;/(iPhone|iPod|iPad)/.test(t)}(),function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-interact-rich-text{padding-top:10px;font:14px/22px PingFangSC-Regular;color:#222;text-align:justify;word-wrap:break-word;word-break:break-all;word-break:break-word}.x-interact-rich-text>a{text-decoration:none}.x-interact-rich-text .type-at,.x-interact-rich-text .type-image,.x-interact-rich-text .type-link,.x-interact-rich-text .type-topic,.x-interact-rich-text .type-video,.x-interact-rich-text .type-vote{color:#4367b4;cursor:pointer}.x-interact-rich-text .invalid-href.type-at{color:#858585;pointer-events:none}.x-interact-rich-text .type-emoji{width:14px;margin-top:-4px;background-size:100%}.x-interact-rich-text .type-emoji,.x-interact-rich-text .type-label{display:inline-block;height:14px;background-repeat:no-repeat;background-position:50% 50%;vertical-align:middle}.x-interact-rich-text .type-label{width:42px;margin-top:-2px;background-size:cover}.x-interact-rich-text .type-label-1{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-hot-level-1.png)}.x-interact-rich-text .type-label-2{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-hot-level-2.png)}.x-interact-rich-text-is-author{padding:0 .03rem;font-size:.1rem;color:#4d6df2;background:#e4eaff;border-radius:.03rem}.x-interact-rich-text-colon,.x-interact-rich-text-uname{color:#858585}");var Gt="x-interact-rich-text",Xt={1:"at",3:"link",4:"image"},Zt={1:"link",2:"video",3:"vote"},Qt=["at","topic","link","video","vote"],te=function(t){return"https://author.baidu.com/home?context=%7B%22uk%22%3A%22".concat(t,"%22%7D")},ee=(Wt||{}).imgpath||"https://mbdp03.bdstatic.com/sdks/emoticon/img/",ne=function(t){d(n,t);var e=h(n);function n(t){return i(this,n),t.customCls="rich-text",e.call(this,t)}return a(n,[{key:"bindEvent",value:function(t){var e=this.root=t.querySelector(".".concat("rich-text",'[data-reply-id="').concat(this.replyId,'"]'));this.root&&pt(e,".type-image","click",(function(t){var e=t.target.dataset;!function(t){new $t(t).render()}({list:[{width:e.width,height:e.height,url:e.url}]})}))}}]),n}(function(){function t(e){i(this,t),this.content=e.content,this.contentRich=e.contentRich,this.replyToComment=e.replyToComment,this.hotLevel=e.hotLevel,this.replyId=e.replyId,this.getHomePage=e.getHomePage||te,this.customCls=e.customCls||"",this.uname=e.uname,this.isAuthor=e.isAuthor,this.richTypeMap=Xt,this.showViewImgText=e.showViewImgText||!1}return a(t,[{key:"makeTpl",value:function(t){var e=this.formatRichText();return e.length?'\n            <div class="'.concat(Gt," ").concat(this.customCls,'" data-reply-id="').concat(this.replyId,'">\n                ').concat(this.uname?'<span class="'.concat(Gt,'-uname">').concat(this.uname,"</span>"):"","\n                ").concat(this.isAuthor?'<span class="'.concat(Gt,'-is-author">ä½œè€…</span>'):"","\n                ").concat(this.uname||this.isAuthor?'<span class="'.concat(Gt,'-colon">:</span>'):"","\n                ").concat(e.map((function(t){return Qt.indexOf(t.type)>-1?'\n                            <a\n                                class="'.concat(t.class," ").concat(t.url?"":"invalid-href",'"\n                                href="').concat(t.url,'"\n                                ').concat(t.style?"style=".concat(t.style):"","\n                            >").concat(t.text,"</a>\n                        "):'\n                        <span\n                            class="'.concat(t.class,'"\n                            ').concat(t.style?"style=".concat(t.style):"","\n                            ").concat("image"===t.type?"data-url=".concat(t.url," data-width=").concat(t.width," data-height=").concat(t.height):"","\n                        >").concat((e=t.text,e=String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;")),"</span>\n                    ");var e})).join(""),"\n                ").concat(t||"","\n            </div>\n        "):""}},{key:"formatRichText",value:function(){var t=this,e=this.sliceByRich(this.content,this.contentRich,!this.showViewImgText);if(this.replyToComment&&this.replyToComment.length){var n=[];this.replyToComment.map((function(e){var i=e.user||{},o=i.uname,a=i.uk,r=i.is_bjh_author;n=n.concat([{type:"text",text:" // ",class:"type-text"},{type:"at",text:"@".concat(o),class:"type-at ".concat(r?"is-bjh-author":""),uk:a,url:t.getHomePage(a)},{type:"text",text:"ï¼š",class:"type-text"}],t.sliceByRich(e.content,e.content_rich,!1,e.image_list))})),e=e.concat(n)}return+this.hotLevel&&e.unshift({type:"label",text:"",class:"type-label type-label-".concat(this.hotLevel)}),e}},{key:"sliceByRich",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0,a=[],r=0,c=o&&o.large||{};if(e&&e.length){var s=null;e.forEach((function(e){if(4==+e.type)s={type:"image",text:e.attr.text,class:"type-image",url:c.url||e.attr.url,width:c.width,height:c.height};else{r<e.start&&(a=a.concat(n.sliceByEmoji(t.slice(r,+e.start))),r=+e.start);var i=n.richTypeMap[+e.type]||"text";"link"===i&&(i=Zt[+e.attr.icon]||"link");var o=t.slice(+e.start,+e.start+ +e.length);a.push({type:i,text:o,class:"type-".concat(i),uk:e.attr.uk||"",url:("at"===i?n.getHomePage(e.attr.uk):e.attr.link)||""}),r+=+e.length}})),r<t.length&&(a=a.concat(this.sliceByEmoji(t.slice(r)))),!i&&s&&a.push(s)}else a=m(this.sliceByEmoji(t));return a}},{key:"sliceByEmoji",value:function(t){if(!t)return[];var e=/(\[.*?\])/;return t.split(e).filter((function(t){return t.length})).map((function(t){var n="text",i="type-text",o="",a=function(t){for(var e,n="",i=0;i<Yt.length;i++)if((e=Yt[i]).text===t){n=e.icon;break}return n}(t);return e.test(t)&&a&&(n="emoji",i="type-emoji",o="background-image:url(".concat(ee).concat(a,"?t=").concat(Math.floor(Date.now()/1e3/60/60),")"),t=""),{type:n,text:t,style:o,class:i}}))}}]),t}());!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-interact-image{position:relative;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;border:1px solid rgba(0,0,0,.05);border-radius:12px;overflow:hidden}.x-interact-image-placeholder{position:absolute;left:0;top:0;width:100%;height:100%;background:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-bd-logo.png) 50% 50% no-repeat;background-size:50% 50%}.x-interact-image-thumb{position:relative;background-position:50% 50%;background-repeat:no-repeat;background-size:cover;height:auto;cursor:-webkit-zoom-in;cursor:zoom-in}.x-interact-image-thumb .tag{position:absolute;right:14px;bottom:14px;font-size:14px;text-shadow:0 0 5px rgba(0,0,0,.3);color:#fff}.x-interact-image-large{position:relative;display:none;width:100%;height:auto;cursor:-webkit-zoom-out;cursor:zoom-out}");var ie=["","GIF","é•¿å›¾"],oe=function(t){d(n,t);var e=h(n);function n(t){var o;return i(this,n),(o=e.call(this,l(l({},t),{},{id:t.replyId,wrapperWidth:"176px",prefixCls:"image-scale"}))).isLarge=!1,o}return a(n,[{key:"bindEvent",value:function(t){var e=this,n=t.querySelector('.image-scale[data-id="'.concat(this.id,'"]')),i=n.querySelector(".image-scale-thumb"),o=n.querySelector(".image-scale-large");pt(n,".".concat("image-scale","-thumb"),"click",(function(t){n.style.width="100%",n.style.height="auto",i.style.display="none",o.style.display="block",e.isLarge=!0})),pt(n,".".concat("image-scale","-large"),"click",(function(t){n.style.width="176px",i.style.display="block",o.style.display="none",e.isLarge=!1}))}}]),n}(function(){function t(e){i(this,t),this.container=e.container,this.thumb=e.thumb,this.large=e.large,this.type=e.type||0,this.id=e.id,this.size=e.size||"1:1",this.scale=this.getScale(this.size);var n=e.wrapperWidth;this.wrapperStyle=e.wrapperStyle||(n?"width: ".concat(n):""),this.prefixCls=e.prefixCls||"x-interact-image"}return a(t,[{key:"render",value:function(){if(this.container){var t=this.makeTpl();this.container.insertAdjacentHTML("beforeend",t)}}},{key:"makeTpl",value:function(){var t=this.thumb;if(t){var e=["padding-top: ".concat(100*this.scale,"%"),"background-image: ".concat(t?"url(".concat(t,")"):"")].join(";"),n=this.prefixCls;return'\n            <div class="'.concat("x-interact-image"," ").concat(n,'"\n                ').concat(this.id?'data-id="'.concat(this.id,'"'):"",'\n                style="').concat(this.wrapperStyle,'"\n            >\n                <div class="').concat("x-interact-image","-placeholder ").concat(n,'-placeholder"></div>\n                <div class="').concat("x-interact-image","-thumb ").concat(n,'-thumb" style="').concat(e,'">\n                    ').concat(+this.type?'<span class="tag">'.concat(ie[+this.type],"<span>"):"","\n                </div>\n                ").concat(this.large?'<img class="'.concat("x-interact-image","-large ").concat(n,'-large" src="').concat(this.large,'"/>'):"","\n            </div>\n        ")}}},{key:"getScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1:1",e=1,n=t.split(":")||[],i=+n[0];if(i>0){var o=+n[1]||0;e=o/i}return e}}]),t}());"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var ae,re=function(t,e){return t(e={exports:{}}),e.exports}((function(t,e){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,i){var o="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)};t.exports={type:function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},isObject:function(t,e){return e?"object"===this.type(t):t&&"object"===(void 0===t?"undefined":o(t))},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},encode:function(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(t){var e="",n=!0,i=this;return this.isObject(t)?(function t(o,a){var r=i.encode,c=i.type(o);if("array"==c)o.forEach((function(e,n){i.isObject(e)||(n=""),t(e,a+"%5B"+n+"%5D")}));else if("object"==c)for(var s in o)t(o[s],a?a+"%5B"+r(s)+"%5D":r(s));else n||(e+="&"),n=!1,e+=a+"="+r(o)}(t,""),e):t},merge:function(t,e){for(var n in e)t.hasOwnProperty(n)?this.isObject(e[n],1)&&this.isObject(t[n],1)&&this.merge(t[n],e[n]):t[n]=e[n];return t}}},,function(t,e,n){var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a="undefined"!=typeof document,r=function(){function t(e){function n(t){function e(){t.p=n=i=null}var n=void 0,i=void 0;o.merge(t,{lock:function(){n||(t.p=new Promise((function(t,e){n=t,i=e})))},unlock:function(){n&&(n(),e())},clear:function(){i&&(i("cancel"),e())}})}(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.engine=e||XMLHttpRequest,this.default=this;var i=this.interceptors={response:{use:function(t,e){this.handler=t,this.onerror=e}},request:{use:function(t){this.handler=t}}},a=i.request;n(i.response),n(a),this.config={method:"GET",baseURL:"",headers:{},timeout:0,params:{},parseJson:!0,withCredentials:!1}}return i(t,[{key:"request",value:function(t,e,n){var i=this,r=new this.engine,c="Content-Type",s=c.toLowerCase(),l=this.interceptors,d=l.request,u=l.response,p=d.handler,h=new Promise((function(l,h){function f(t){return t&&t.then&&t.catch}function g(t,e){t?t.then((function(){e()})):e()}function m(n){function i(t,e,i){g(u.p,(function(){if(t){i&&(e.request=n);var o=t.call(u,e,Promise);e=void 0===o?e:o}f(e)||(e=Promise[0===i?"resolve":"reject"](e)),e.then((function(t){l(t)})).catch((function(t){h(t)}))}))}function d(t){t.engine=r,i(u.onerror,t,-1)}function p(t,e){this.message=t,this.status=e}e=n.body,t=o.trim(n.url);var m=o.trim(n.baseURL||"");if(t||!a||m||(t=location.href),0!==t.indexOf("http")){var x="/"===t[0];if(!m&&a){var b=location.pathname.split("/");b.pop(),m=location.protocol+"//"+location.host+(x?"":b.join("/"))}if("/"!==m[m.length-1]&&(m+="/"),t=m+(x?t.substr(1):t),a){var v=document.createElement("a");v.href=t,t=v.href}}var y=o.trim(n.responseType||""),E=-1!==["GET","HEAD","DELETE","OPTION"].indexOf(n.method),B=o.type(e),k=n.params||{};E&&"object"===B&&(k=o.merge(e,k));var w=[];(k=o.formatParams(k))&&w.push(k),E&&e&&"string"===B&&w.push(e),w.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+w.join("&")),r.open(n.method,t);try{r.withCredentials=!!n.withCredentials,r.timeout=n.timeout||0,"stream"!==y&&(r.responseType=y)}catch(t){}var D=n.headers[c]||n.headers[s],C="application/x-www-form-urlencoded";for(var A in o.trim((D||"").toLowerCase())===C?e=o.formatParams(e):o.isFormData(e)||-1===["object","array"].indexOf(o.type(e))||(C="application/json;charset=utf-8",e=JSON.stringify(e)),D||E||(n.headers[c]=C),n.headers)if(A===c&&o.isFormData(e))delete n.headers[A];else try{r.setRequestHeader(A,n.headers[A])}catch(t){}r.onload=function(){try{var t=r.response||r.responseText;t&&n.parseJson&&-1!==(r.getResponseHeader(c)||"").indexOf("json")&&!o.isObject(t)&&(t=JSON.parse(t));var e=r.responseHeaders;if(!e){e={};var a=(r.getAllResponseHeaders()||"").split("\r\n");a.pop(),a.forEach((function(t){if(t){var n=t.split(":")[0];e[n]=r.getResponseHeader(n)}}))}var s=r.status,l=r.statusText,h={data:t,headers:e,status:s,statusText:l};if(o.merge(h,r._response),s>=200&&s<300||304===s)h.engine=r,h.request=n,i(u.handler,h,0);else{var f=new p(l,s);f.response=h,d(f)}}catch(f){d(new p(f.msg,r.status))}},r.onerror=function(t){d(new p(t.msg||"Network Error",0))},r.ontimeout=function(){d(new p("timeout [ "+r.timeout+"ms ]",1))},r._options=n,setTimeout((function(){r.send(E?null:e)}),0)}o.isObject(t)&&(t=(n=t).url),(n=n||{}).headers=n.headers||{},g(d.p,(function(){o.merge(n,JSON.parse(JSON.stringify(i.config)));var a=n.headers;a[c]=a[c]||a[s]||"",delete a[s],n.body=e||n.body,t=o.trim(t||""),n.method=n.method.toUpperCase(),n.url=t;var r=n;p&&(r=p.call(d,n,Promise)||n),f(r)||(r=Promise.resolve(r)),r.then((function(t){t===n?m(t):l(t)}),(function(t){h(t)}))}))}));return h.engine=r,h}},{key:"all",value:function(t){return Promise.all(t)}},{key:"spread",value:function(t){return function(e){return t.apply(null,e)}}}]),t}();r.default=r,["get","post","put","patch","head","delete"].forEach((function(t){r.prototype[t]=function(e,n,i){return this.request(e,n,o.merge({method:t},i))}})),["lock","unlock","clear"].forEach((function(t){r.prototype[t]=function(){this.interceptors.request[t]()}})),t.exports=r}])})),ce=(ae=re)&&ae.__esModule&&Object.prototype.hasOwnProperty.call(ae,"default")?ae.default:ae,se=Object.prototype.hasOwnProperty,le=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),de=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(n[i]=t[i]);return n},ue={arrayToObject:de,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],i=[],o=0;o<e.length;++o)for(var a=e[o],r=a.obj[a.prop],c=Object.keys(r),s=0;s<c.length;++s){var l=c[s],d=r[l];"object"===n(d)&&null!==d&&-1===i.indexOf(d)&&(e.push({obj:r,prop:l}),i.push(d))}return function(t){for(var e;t.length;){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var i=[],o=0;o<e.length;++o)void 0!==e[o]&&i.push(e[o]);n.obj[n.prop]=i}}return e}(e)},decode:function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(n){return t}},encode:function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",i=0;i<e.length;++i){var o=e.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=e.charAt(i):o<128?n+=le[o]:o<2048?n+=le[192|o>>6]+le[128|63&o]:o<55296||o>=57344?n+=le[224|o>>12]+le[128|o>>6&63]+le[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(i)),n+=le[240|o>>18]+le[128|o>>12&63]+le[128|o>>6&63]+le[128|63&o])}return n},isBuffer:function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,i,o){if(!i)return e;if("object"!==n(i)){if(Array.isArray(e))e.push(i);else{if("object"!==n(e))return[e,i];(o.plainObjects||o.allowPrototypes||!se.call(Object.prototype,i))&&(e[i]=!0)}return e}if("object"!==n(e))return[e].concat(i);var a=e;return Array.isArray(e)&&!Array.isArray(i)&&(a=de(e,o)),Array.isArray(e)&&Array.isArray(i)?(i.forEach((function(i,a){se.call(e,a)?e[a]&&"object"===n(e[a])?e[a]=t(e[a],i,o):e.push(i):e[a]=i})),e):Object.keys(i).reduce((function(e,n){var a=i[n];return se.call(e,n)?e[n]=t(e[n],a,o):e[n]=a,e}),a)}},pe=String.prototype.replace,he=/%20/g,fe={default:"RFC3986",formatters:{RFC1738:function(t){return pe.call(t,he,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},ge={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},me=Date.prototype.toISOString,xe={delimiter:"&",encode:!0,encoder:ue.encode,encodeValuesOnly:!1,serializeDate:function(t){return me.call(t)},skipNulls:!1,strictNullHandling:!1},be=function t(e,n,i,o,a,r,c,s,l,d,u,p){var h=e;if("function"==typeof c)h=c(n,h);else if(h instanceof Date)h=d(h);else if(null===h){if(o)return r&&!p?r(n,xe.encoder):n;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||ue.isBuffer(h))return r?[u(p?n:r(n,xe.encoder))+"="+u(r(h,xe.encoder))]:[u(n)+"="+u(String(h))];var f,g=[];if(void 0===h)return g;if(Array.isArray(c))f=c;else{var m=Object.keys(h);f=s?m.sort(s):m}for(var x=0;x<f.length;++x){var b=f[x];a&&null===h[b]||(g=Array.isArray(h)?g.concat(t(h[b],i(n,b),i,o,a,r,c,s,l,d,u,p)):g.concat(t(h[b],n+(l?"."+b:"["+b+"]"),i,o,a,r,c,s,l,d,u,p)))}return g},ve=(Object.prototype.hasOwnProperty,function(t,e){var i=t,o=e?ue.assign({},e):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var a=void 0===o.delimiter?xe.delimiter:o.delimiter,r="boolean"==typeof o.strictNullHandling?o.strictNullHandling:xe.strictNullHandling,c="boolean"==typeof o.skipNulls?o.skipNulls:xe.skipNulls,s="boolean"==typeof o.encode?o.encode:xe.encode,l="function"==typeof o.encoder?o.encoder:xe.encoder,d="function"==typeof o.sort?o.sort:null,u=void 0!==o.allowDots&&o.allowDots,p="function"==typeof o.serializeDate?o.serializeDate:xe.serializeDate,h="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:xe.encodeValuesOnly;if(void 0===o.format)o.format=fe.default;else if(!Object.prototype.hasOwnProperty.call(fe.formatters,o.format))throw new TypeError("Unknown format option provided.");var f,g,m=fe.formatters[o.format];"function"==typeof o.filter?i=(g=o.filter)("",i):Array.isArray(o.filter)&&(f=g=o.filter);var x,b=[];if("object"!==n(i)||null===i)return"";x=o.arrayFormat in ge?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var v=ge[x];f||(f=Object.keys(i)),d&&f.sort(d);for(var y=0;y<f.length;++y){var E=f[y];c&&null===i[E]||(b=b.concat(be(i[E],E,v,r,c,s?l:null,g,d,u,p,m,h)))}var B=b.join(a),k=!0===o.addQueryPrefix?"?":"";return B.length>0?k+B:""}),ye=new ce;function Ee(t){var e={appid:I.appid,thread_id:I.threadId,parent_id:t.replyId,content:t.text,sync_text:+t.isRadioChecked,ts:Date.now(),client_type:"pc"};return new Promise((function(t,n){var i,o;(i=O.ADDREPLY,o=e,ye.post(i,ve(o,{arrayFormat:"indices"}),void 0)).then((function(e){var i;!+e.errno&&e.ret?t(function(t){var e=t.sync_text_comment;return e&&(t.sync_text_comment=c(e,l(l({},e.user),{},{thread_id:t.thread_id,is_author:!0,like_count:0}))),t}(e.ret)):n((i=e.errno,U[i+""]||"å‘è¡¨å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"))})).catch((function(t,e){n(H)}))}))}ye.config.withCredentials=!0,ye.config.timeout=1e4,ye.interceptors.response.use((function(t){return t.data}),(function(t){return Promise.reject(t)}));var Be=function(){};function ke(t,e,n){var i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=document,c=t.replace(/^(css|img)!/,""),s=!1,l=n.async,d=void 0===l||l,u=n.maxTries,p=void 0===u?1:u,h=n.timeout,f=void 0===h?2e4:h,g=n.before,m=void 0===g?null:g,x=m;"function"!=typeof x&&(x=Be),/(^css!|\.css$)/.test(t)?(s=!0,(i=r.createElement("link")).rel="stylesheet",i.href=c):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(i=r.createElement("img")).src=c:((i=r.createElement("script")).src=t,i.async=!!d);var b=function(r){var c;if(clearTimeout(o),c=r instanceof Error?"e":r.type[0],s&&"hideFocus"in i)try{i.sheet.cssText.length||(c="e")}catch(t){c="e"}if("e"===c&&(a+=1)<p)return ke(t,e,n,a);i.onload=i.onerror=i.onbeforeload=null,i=null,e("e"===c?r||"error":null,t)};if(i.onload=i.onerror=b,!1!==x(t,i)){var v=r.head||r.getElementsByTagName("script")[0];v.appendChild(i),f>0&&(o=setTimeout((function(){b(new Error("timeout"))}),f))}}var we=location.protocol+"//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion=",De=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.__instance;if(!e&&n&&n.show)n.show();else{var i=t.apiOpt,o=void 0===i?{}:i,a=t.successCb;delete t.apiOpt,window.__instance=n=window.passport.pop.init(l({loginVersion:"v4",apiOpt:l({loginType:1,u:window.location.href,product:"interact",staticPage:window.location.origin+"/v3Jump.html"},o),cache:!1,tangram:!0,authsite:["tqq","renren","tsina"],onLoginSuccess:function(t){a&&a(t),t.returnValue=!1,window.__instance.hide()},onSubmitStart:function(t){},onSubmitedErr:function(t){},onSystemErr:function(t){},onShow:function(t){},onRealHide:function(t){},onHide:function(t){},onDestroy:function(t){}},t)),n.show()}},Ce={},Ae=function(){return new Promise((function(t){I.isLogin?t():(Ce.loginSuccessCb=function(e){var n=((e||{}).rsp||{}).data||{};I.isLogin=!0,I.curUserName=n.userName,t()},function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.passport&&window.passport.pop;n?De(t,e):ke(we+(new Date).getTime(),(function(){De(t,e)}),{})}({apiOpt:{staticPage:I.passStaticPage},successCb:function(t){Ce.loginSuccessCb(t)}},!1))}))},Se=function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()};function je(t,e){return Se(t)===e.toLowerCase()}var Te=function(t,e,i){return new TypeError("Expected `"+t+"` to be of type `"+e+"`, got `"+n(i)+"`")},Ie=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";if(!je(t,"date"))throw Te("d","Date",t);var n=t.getFullYear().toString(),i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(y+)/gi,(function(t,e){return n.substr(4-Math.min(4,e.length))})),Object.keys(i).forEach((function(t){e=e.replace(new RegExp("("+t+"+)","g"),(function(e,n){return i[t]<10&&n.length>1?"0"+i[t]:i[t]}))})),e};function _e(t){return null==t}function Fe(t){return void 0===t}function Oe(t){return!!je(t,"Object")&&(null===Object.getPrototypeOf(t)||Object===t.constructor)}function Pe(t){return je(t,"Function")}function Le(t){return je(t,"String")}function Re(t){return je(t,"Array")}function Ne(t){return!0===t||!1===t}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-dialog-classic{width:224px;height:131px;background:#fff;border-radius:16px;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1)}.x-dialog-classic button{padding:0}.x-dialog-classic-msg{padding-top:30px;font-size:18px;line-height:1;text-align:center;color:#222}.x-dialog-classic-oper{padding:21px 20px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.x-dialog-classic .btn{width:80px;height:32px;font-size:14px;border-radius:16px;border:none;outline:none}.x-dialog-classic-cancel{color:#1f1f1f;background:#f5f5f6}.x-dialog-classic-confirm{color:#fff;background:#4e6ef2}");var He="x-dialog-classic",Me=function(){function t(e){i(this,t),this.container=e.container,this.message=e.message||"ç¡®è®¤åšæ­¤æ“ä½œå—",this.cancelText=e.cancelText||"å–æ¶ˆ",this.confirmText=e.confirmText||"ç¡®è®¤",this.onCancel=e.onCancel,this.onConfirm=e.onConfirm,this.onClose=e.onClose,this.render(),this.bindEvent()}return a(t,[{key:"render",value:function(){var t='\n            <div class="'.concat(He,'">\n                <h3 class="').concat(He,'-msg">').concat(this.message,'</h3>\n                <div class="').concat(He,'-oper">\n                    <button class="btn ').concat(He,'-cancel">').concat(this.cancelText,'</button>\n                    <button class="btn ').concat(He,'-confirm">').concat(this.confirmText,"</button>\n                </div>\n            </div>\n        ");this.container.innerHTML=t}},{key:"bindEvent",value:function(){var t=this;_t(this.container,".".concat(He,"-cancel"),"click",(function(e){Pe(t.onCancel)&&t.onCancel(e),t.close()})),_t(this.container,".".concat(He,"-confirm"),"click",(function(e){Pe(t.onConfirm)&&t.onConfirm(e),t.close()})),this.onOtherClickBind=this.onOtherClick.bind(this),setTimeout((function(){_t(document,"html","click",t.onOtherClickBind)}),0)}},{key:"close",value:function(){Ft(this.container,".".concat(He,"-cancel"),"click"),Ft(this.container,".".concat(He,"-confirm"),"click"),Ft(document,"html","click",this.onOtherClickBind),this.container.innerHTML="",Pe(this.onClose)&&this.onClose()}},{key:"onOtherClick",value:function(t){this.container.innerHTML&&!t.target.closest(".".concat(He))&&this.close()}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-dialog-menu{padding:30px 24px;width:368px;background:#fff;border-radius:16px;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-sizing:content-box;box-sizing:content-box}.x-dialog-menu-title{font-size:18px;line-height:1;text-align:center;color:#222}.x-dialog-menu-list{margin-top:8px;font-size:0}.x-dialog-menu-item{width:176px;height:32px;margin-top:12px;padding:0;font-size:14px;border-radius:16px;border:none;outline:none;color:#333;background-color:#f5f5f5}.x-dialog-menu-item:nth-child(2n){margin-left:16px}.x-dialog-menu.is-odd .x-dialog-menu-item:last-child{width:368px}.x-dialog-menu-item:hover{color:#fff;background-color:#4e6ef2}");var ze="x-dialog-menu",Ue=function(){function t(e){i(this,t),this.title=e.title,this.list=e.list,this.container=e.container,this.clickCallback=e.clickCallback,this.closeCallback=e.closeCallback,this.container}return a(t,[{key:"render",value:function(){var t=this.makeTpl(this.title,this.list);this.container.insertAdjacentHTML("beforeend",t),this.bindEvent()}},{key:"makeTpl",value:function(t,e){var n=(e&&e.length||0)%2==1?"is-odd":"";return'\n            <div class="'.concat(ze," ").concat(n,'">\n                <h3 class="').concat(ze,'-title">').concat(t,'</h3>\n                <div class="').concat(ze,'-list">\n                ').concat(e.map((function(t,e){return'\n                        <button class="'.concat(ze,'-item" data-id="').concat(e,'">').concat(t.text,"</button>\n                    ")})).join(""),"\n                </div>\n            </div>\n        ")}},{key:"bindEvent",value:function(){var t=this;_t(this.container,".".concat(ze),"click",(function(e){e.preventDefault(),e.stopPropagation();var n=e.target;if(n.className==="".concat(ze,"-item")){t.close();var i=n.dataset.id,o=t.list[i];o&&Pe(t.clickCallback)&&t.clickCallback({item:o})}})),this.outerClkFunc=this.outerClick.bind(this),setTimeout((function(){_t(document,"html","click",t.outerClkFunc)}),0)}},{key:"close",value:function(){Ft(this.container,".".concat(ze),"click"),Ft(document,"html","click",this.outerClkFunc);var t=this.container.querySelector(".".concat(ze));t&&(t.outerHTML=""),Pe(this.closeCallback)&&this.closeCallback()}},{key:"outerClick",value:function(t){!t.target.closest(".".concat(ze))&&this.close()}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-interact-emoj-panel{height:100%;overflow-y:auto}.x-interact-emoj-panel-wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;width:443px;height:230px;line-height:0;padding:20px 6px 20px 20px;font-size:0;border-radius:12px;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1)}.x-interact-emoj-panel::-webkit-scrollbar{width:3px}.x-interact-emoj-panel::-webkit-scrollbar-thumb{border-radius:10px;background-color:#f2f2f2}.x-interact-emoj-panel .img-wrap{display:inline-block;margin:5px;padding:5px;border-radius:6px}.x-interact-emoj-panel .img-wrap:hover{background-color:rgba(51,136,255,.2)}.x-interact-emoj-panel .emoj-img{width:30px}");var Ke="x-interact-emoj-panel",qe=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.options=l({containerId:Ke,clickCallback:function(){}},e),this.containerId="#"+this.options.containerId,this.container=document.querySelector(this.containerId),this.container}return a(t,[{key:"render",value:function(){this.container.classList.add("".concat(Ke,"-wrapper")),this.container.innerHTML=this.makeTpl(),this.bindEvent(this.options.clickCallback)}},{key:"makeTpl",value:function(){var t=g(Wt.packages,1)[0],e=Wt.imgpath,n=t.emoticons||[],i=Ie(new Date,"yyyyMMddhh");return'\n            <div class="'.concat(Ke,'">\n                ').concat(n.map((function(t){var n=t.text,o=t.icon,a=t.id;return t.hideInEmojiKeyboard?"":'\n                        <span class="img-wrap" data-text="'.concat(n,'" data-id="').concat(a,'">\n                            <img class="emoj-img" src="').concat(e).concat(o,"?r=").concat(i,'" title="').concat(n,'"/>\n                        </span>\n                    ')})).join(""),"\n            </div>\n        ")}},{key:"hide",value:function(){this.container.style.display="none"}},{key:"show",value:function(){this.container.style.display="block"}},{key:"toggle",value:function(){"none"===this.container.style.display?this.show():this.hide()}},{key:"bindEvent",value:function(t){var e=this;_t(this.container,this.containerId,"click",(function(n){n.preventDefault(),n.stopPropagation();var i=n.target;if("#".concat(i.id)===e.containerId)e.hide();else{"emoj-img"===i.className&&(i=i.parentElement);var o=i.dataset,a=o.text,r=o.id;a&&Pe(t)&&t({text:a,id:r})}})),_t(document,"html","click",(function(t){e.hide()}))}}]),t}(),$e=function(t){var e=new qe(t);return e.render(),e},Ve=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;n=n||window.innerHeight||document.documentElement.clientHeight;var i=document.documentElement.scrollTop||window.pageYOffset;return!(n+i-t.offsetTop<=e||t.offsetTop+t.clientHeight<i)};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('.x-interact-publish{width:100%;font-size:13px;color:#222}.x-interact-publish-panel-center{padding-top:4px}.x-interact-publish-cont{height:94px}.x-interact-publish-cont,.x-interact-publish-cont-topic{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;background:#f5f5f6;border-radius:12px}.x-interact-publish-cont-topic{min-height:94px;max-height:160px;overflow-y:auto}.x-interact-publish .text-area{padding:16px 16px 23px;width:100%;resize:none;background:#f5f5f6;border-radius:12px;border:none;color:#1f1f1f}.x-interact-publish .text-area:empty:before{content:attr(placeholder)}.x-interact-publish .text-area:focus{outline:none}.x-interact-publish .textarea-topic{padding:13px 16px 11px;min-width:200px;width:100%;resize:none;background:#f5f5f6;border-radius:12px;border:none;color:#1f1f1f;overflow:hidden;overflow-y:auto;-webkit-user-select:text;line-height:1.5;word-break:break-all;word-wrap:break-word;white-space:pre-wrap;-webkit-box-sizing:border-box;box-sizing:border-box}.x-interact-publish .textarea-topic:before,.x-interact-publish .textarea-topic:empty:before{content:attr(content);color:#4e6ef2;white-space:nowrap;word-break:break-all;padding-right:5px;line-height:1.5}.x-interact-publish .textarea-topic .placeholder-dom:before{display:inline-block;content:attr(placeholder);color:#626675}.x-interact-publish .textarea-topic:focus{outline:none}.x-interact-publish-opt{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:30px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:8px}.x-interact-publish .emoj,.x-interact-publish .img-upload{display:inline-block;height:20px;width:20px;background-size:contain;background-repeat:no-repeat}.x-interact-publish .emoj:hover,.x-interact-publish .img-upload:hover{cursor:pointer}.x-interact-publish .emoj{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-emoj-btn2.png)}.x-interact-publish .emoj:hover{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-emoj-btn-active2.png)}.x-interact-publish .img-upload{margin-left:30px;background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-img-btn3.png)}.x-interact-publish .img-upload:hover{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-img-btn-active3.png)}.x-interact-publish .radio{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.x-interact-publish .radio:hover{cursor:pointer}.x-interact-publish .radio:not(:first-child){margin-left:30px}.x-interact-publish .radio:before{content:"";display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;height:26px;width:26px;border:2px solid #222;border-radius:100%;-webkit-transform-origin:left;transform-origin:left;-webkit-transform:scale(.5);transform:scale(.5);margin-right:-9px}.x-interact-publish .radio.checked:before{border:none;background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-radio-selected.png);background-size:contain;background-repeat:no-repeat;background-color:#4e6ef2}.x-interact-publish .no-radio .radio{display:none}.x-interact-publish .extra{position:absolute;right:90px;color:#858585}.x-interact-publish .extra .exceed{color:#f73131}.x-interact-publish .send{position:absolute;top:0;right:0;width:80px;height:30px;line-height:30px;font-size:14px;text-align:center;color:#fff;background:#4e6ef2;border-radius:15px;cursor:pointer}.x-interact-publish .send.disabled{opacity:.2;cursor:not-allowed}.x-interact-publish .emoj-panel{background:#fff}.x-interact-publish .emoj-panel.float-up{position:absolute;z-index:1}.x-interact-publish .emoj-panel.float-right{right:-16px}');var We="x-interact-publish",Je=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.options=l({containerId:We,placeholder:"å‘è¡¨ç¥è¯„å¦™è®º",radio:{label:"åŒæ—¶è¯„è®ºåŸæ–‡",checked:!1},maxTextNum:300,showNumLimit:20,isEmojShow:!0,isEmojFloatUp:!1,isUploadImgShow:!1,isAllowedSendNull:!1},e);var n=this.options.topicObj||{};this.isTopic=n.isTopic,this.topicWord=n.topicWord;var o=e.actionCallback,a=e.sendCallback;this.sendCallback=Pe(a)?a:function(){},this.actionCallback=Pe(o)?o:function(){},this.containerId="#"+this.options.containerId,this.container=document.querySelector(this.containerId),this.container&&(this.emojPanel="",this.options.emojPanelId=this.options.isEmojShow?this.options.containerId+"_emoj_panel":"",this.imgList=[],this.options.imgListPanelId=this.options.isUploadImgShow?this.options.containerId+"_img_list_panel":"")}return a(t,[{key:"render",value:function(){this.container.innerHTML=this.makeTpl(l({},this.options)),this.setMainDom(),this.bindEvent(),this.checkRealShow(),this.isTopic&&(this.getSessionStorage(),this.createPlaceholderNode()),this.isTopic&&this.getSessionStorage(),this.setExtra(this.options)}},{key:"createPlaceholderNode",value:function(){var t=document.createElement("span");t.classList.add("placeholder-dom"),t.setAttribute("placeholder",this.options.placeholder),this.textarea.innerHTML="",this.textarea.appendChild(t);var e=document.createTextNode(" ");this.textarea.appendChild(e),this.placeholderDom=this.container.querySelector(".placeholder-dom")}},{key:"getSessionStorage",value:function(){var t=sessionStorage.getItem("textareaHTML");t&&(this.textarea.innerHTML=t),this.insertPlaceholder()}},{key:"insertPlaceholder",value:function(){var t=this.textarea.innerText;(!t.trim()||JSON.stringify(t)===JSON.stringify("\n"))&&(this.textarea.innerHTML="",this.createPlaceholderNode(),this.setMainDom(),this.setExtra(this.options),sessionStorage.setItem("textareaHTML",this.textarea.innerHTML))}},{key:"setMainDom",value:function(){this.isTopic?this.textarea=this.container.querySelector(".textarea-topic"):this.textarea=this.container.querySelector(".text-area"),this.operatorBar=this.container.querySelector(".".concat(We,"-opt")),this.radio=this.container.querySelector(".radio"),this.radio.checked=!!this.options.radio.checked,this.extra=this.container.querySelector(".extra"),this.send=this.container.querySelector(".send"),this.body=document.querySelector("body")}},{key:"makeTpl",value:function(t){var e=t.placeholder,n=t.radio,i=void 0===n?{}:n,o=t.emojPanelId,a=t.isEmojFloatUp,r=t.imgListPanelId,c=t.isAllowedSendNull,s=t.topicObj||{},l=s.topicWord,d=s.isTopic,u='<textarea contenteditable="true" class="text-area '.concat(e?"placeholder":"",'"\n        placeholder="').concat(e,'"></textarea>'),p='<div\n            content="'.concat(l,'"\n            contenteditable="true"\n            class="textarea-topic"></div>');return'\n            <div class="'.concat(We,'">\n                <div class="').concat(d?We+"-cont-topic":We+"-cont",'">\n                    ').concat(d?p:u,'\n                    <div class="other"></div>\n                </div>\n                <div class="').concat(We,'-panel-center">\n                    ').concat(r?'<div id="'.concat(r,'"></div>'):"",'\n                </div>\n                <div class="').concat(We,"-opt ").concat(i.label?"":"no-radio",'">\n                ').concat(o?'\n                    <span class="emoj"></span>\n                ':"","\n                ").concat(r?'\n                    <div class="img-upload"></div>\n                ':"",'\n                    <span class="radio ').concat(i.checked?"checked":"",'">').concat(i.label,'</span>\n                    <span class="extra"></span>\n                    <span class="send ').concat(c?"":"disabled",'">å‘è¡¨</span>\n                </div>\n                <div class="').concat(We,'-panel-bottom">\n                    <div\n                        id="').concat(o,'"\n                        class="emoj-panel ').concat(a?"float-up":""," ").concat(d?"float-right":"",'"\n                    >\n                    </div>\n                </div>\n            </div>\n        ')}},{key:"bindEvent",value:function(){var t=this;_t(this.container,".textarea-topic","paste",(function(e){if(t.isTopic){var n=event||window.event;n.preventDefault();var i=(n.originalEvent||n).clipboardData.getData("text/plain");document.execCommand("insertText",!1,i)}})),_t(this.body,"body","click",(function(e){t.isTopic&&t.insertPlaceholder(),t.emojPanelHide()})),_t(this.container,this.containerId,"click",(function(e){e.preventDefault(),e.stopPropagation();var n=e.target.className.trim();-1!==n.indexOf("radio")&&(n="radio"),-1!==n.indexOf("text-area")&&(n="text-area"),-1!==n.indexOf("textarea-topic")&&(n="textarea-topic");var i=t.actionCallback;switch(n){case"emoj":t.emojClk(t.options),i("publish-emoj-click");break;case"radio":t.emojPanelHide(),t.radioClk(),i("publish-radio-click",{checked:t.radio.checked});break;case"send":t.emojPanelHide(),t.sendClk(),i("publish-send-click");break;case"text-area":t.emojPanelHide(),i("publish-textarea-click");break;case"textarea-topic":var o=getSelection();t.lastEditRange=o.getRangeAt(0),t.emojPanelHide(),i("publish-textarea-click");break;case"img-upload":t.emojPanelHide(),t.pickImage();break;default:if(t.isTopic){t.textarea.focus();var a=getSelection();t.lastEditRange=a.getRangeAt(0)}t.emojPanelHide()}})),_t(this.container,".text-area","keyup",(function(e){t.setExtra(t.options)})),_t(this.container,".textarea-topic","keyup",(function(e){t.setExtra(t.options);var n=getSelection();t.lastEditRange=n.getRangeAt(0),sessionStorage.setItem("textareaHTML",t.textarea.innerHTML)})),_t(this.container,".textarea-topic","keydown",(function(e){var n=getSelection();if(13==+(window.event?e.keyCode:e.which)){var i=n.anchorNode,o=i.nodeValue,a=n.anchorOffset,r=!1,c=i.nextElementSibling,s=i.nextSibling;return(void 0===c?!s:!c)&&o&&o.length===+a&&(r=!0),r?t.insertHtml("<br><br>"):t.insertHtml("<br>"),!1}})),_t(this.container,".textarea-topic","focus",(function(e){var n=t.placeholderDom&&t.placeholderDom.parentNode;n&&n.removeChild(t.placeholderDom),sessionStorage.setItem("textareaHTML",t.textarea.innerHTML)}))}},{key:"insertHtml",value:function(t){var e,n;if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(n=e.getRangeAt(0)).deleteContents();var i=document.createElement("div");i.innerHTML=t;for(var o,a,r=document.createDocumentFragment(),c=i.firstChild;o=i.firstChild;)a=r.appendChild(o);n.insertNode(r),a&&((n=n.cloneRange()).setStartAfter(c),n.collapse(!0),e.removeAllRanges(),e.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(t)}},{key:"setTextarea",value:function(t,e){if(this.isTopic){this.textarea.focus();var n=getSelection();if(this.lastEditRange&&(n.removeAllRanges(),n.addRange(this.lastEditRange)),"#text"!=n.anchorNode.nodeName){var i=document.createTextNode(t);if(this.textarea.childNodes.length>0)for(var o=0;o<this.textarea.childNodes.length;o++)o==n.anchorOffset&&this.textarea.insertBefore(i,this.textarea.childNodes[o]);else this.textarea.appendChild(i);var a=document.createRange();a.selectNodeContents(i),a.setStart(i,i.length),a.collapse(!0),n.removeAllRanges(),n.addRange(a)}else{var r=n.getRangeAt(0),c=r.startContainer,s=r.startOffset;c.insertData(s,t),r.setStart(c,s+t.length),r.collapse(!0),n.removeAllRanges(),n.addRange(r)}this.lastEditRange=n.getRangeAt(0),sessionStorage.setItem("textareaHTML",this.textarea.innerHTML)}else{e=e||this.textarea.selectionStart;var l=this.textarea.value;l=l.slice(0,e)+t+l.slice(e),this.textarea.value=l,this.textarea.setSelectionRange(e+t.length,l.length)}}},{key:"clearTextarea",value:function(){this.isTopic?(this.createPlaceholderNode(),this.setMainDom()):this.textarea.value="";var t=this.options,e=this.radio;t.radio.label&&e&&e.checked&&(e.classList.remove("checked"),e.checked=!1),this.sendEnable()}},{key:"getTextarea",value:function(){return this.isTopic?this.topicWord+this.textarea.innerText:this.textarea.value}},{key:"setExtra",value:function(t){var e=t.maxTextNum,n=t.showNumLimit,i=e-(this.isTopic?this.topicWord+this.textarea.innerText:this.textarea.value).length,o="",a="";i<0?(o="è¶…å‡º",a="exceed",i=-i,this.sendEnable(!1)):(o="å‰©ä½™",this.sendEnable(!0),i>n&&(i=-1)),this.extra.innerHTML=i>=0?"".concat(o,'<span class="').concat(a,'">').concat(i,"</span>å­—"):""}},{key:"emojClk",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.emojPanel;n?n.toggle():this.emojPanel=$e({containerId:e.emojPanelId,clickCallback:function(n){t.setTextarea(n.text),t.setExtra(e),t.actionCallback("publish-emojItem-click",{id:n.id})}})}},{key:"emojPanelHide",value:function(){var t=this.emojPanel;t&&t.hide()}},{key:"radioClk",value:function(){this.radio.classList.toggle("checked"),this.radio.checked=!this.radio.checked}},{key:"sendClk",value:function(){if(!this.send.classList.contains("disabled")){var t={text:this.getTextarea()};this.options.radio.label&&(t.isRadioChecked=this.radio.checked),this.options.isUploadImgShow&&this.imgList.length&&(t.imgList=this.imgList),Pe(this.sendCallback)&&this.sendCallback(t)}}},{key:"sendEnable",value:function(t){!0!==t&&!1!==t||(this.globalSendEnable=t);var e=this.isTopic?this.topicWord+this.textarea.innerText:this.textarea.value,n=this.options,i=n.isUploadImgShow,o=n.isAllowedSendNull,a=o||!o&&!!e||i&&this.imgList.length,r=!1!==this.globalSendEnable&&a?"remove":"add";this.send.classList[r]("disabled")}},{key:"hide",value:function(){this.container.style.display="none",this.getTextarea()&&this.actionCallback("publish-textarea-draft")}},{key:"show",value:function(){this.container.style.display="block"}},{key:"checkRealShow",value:function(t){var e=this.actionCallback;if(Ve(this.container)&&e("publish-show"),Ve(this.operatorBar)){this.options.emojPanelId&&e("publish-emoj-show");var n=this.options.radio,i=n.label,o=n.checked;i&&e("publish-radio-show",{checked:o}),t&&t()}}},{key:"pickImage",value:function(){}}]),t}(),Ye=function(t){var e=new Je(t);return e.render(),e};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-toast{position:fixed;left:50%;bottom:20%;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 12px;font-size:13px;line-height:13px;color:#fff;background:#626675;border-radius:8px}");var Ge=function(){function t(){i(this,t)}return a(t,null,[{key:"show",value:function(t){var e=this;this.timer&&this.hide(),this.text=t.text,this.duration=t.duration||3e3,this.afterHide=t.afterHide,this.render(),this.timer=setTimeout((function(){e.hide()}),this.duration)}},{key:"hide",value:function(){this.el&&(this.clear(),this.changeStyle("display","none"),Pe(this.afterHide)&&this.afterHide())}},{key:"render",value:function(){if(this.el)this.el.innerText=this.text,this.changeStyle("display","block");else{var t=document.createElement("div");t.classList.add("x-toast"),t.innerText=this.text,this.el=t,document.body.appendChild(t)}}},{key:"clear",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"changeStyle",value:function(t,e){this.el.style[t]=e}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".interact-bar{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:8px;font-family:PingFangSC-Regular;font-size:13px;color:#9195a3}.interact-bar:hover .delete,.interact-bar:hover .report{display:block}.interact-bar>*{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.interact-bar-left{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.interact-bar-left .delete,.interact-bar-left .report{display:none;margin-left:10px;cursor:pointer}.interact-bar-left .area{margin-left:8px}.interact-bar-right{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;color:#222}.interact-bar-right .like,.interact-bar-right .reply{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.interact-bar-right .icon{background-repeat:no-repeat;background-size:cover;background-position:50%}.interact-bar-right .reply{cursor:pointer}.interact-bar-right .reply-icon{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-reply.png)}.interact-bar-right .like{cursor:pointer;margin-left:16px}.interact-bar-right .like-icon{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-like.png)}.interact-bar-right .like.liked{color:#f33}.interact-bar-right .like.liked .like-icon{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-liked.png)}.interact-bar-right .icon{width:20px;height:20px;margin-right:3px}.interact-bar .custom-dialog{position:absolute;left:0;top:56px;z-index:1}");var Xe=$(),Ze=function(){function t(e){var n=this;i(this,t),this.createTime=e.createTime,this.area=e.area,this.isAuthor=e.isAuthor,this.uname=e.uname,this.isUped=!!+e.isUped,this.likeCount=+e.likeCount,this.appid=e.appid,this.threadId=e.threadId,this.replyId=e.replyId,this.onDeleteSuccess=e.onDeleteSuccess,this.onReplySuccess=e.onReplySuccess,this.actionCallback=e.actionCallback,Xe.on("closeOtherReplyPublish",(function(){n.showReplyPublish&&n.toggleReplyPublish()}))}return a(t,[{key:"formateArea",value:function(t){return t&&t.length>6?t.slice(0,5)+"...":t}},{key:"makeTpl",value:function(){var t=this.area?'<div class="area">'.concat(this.formateArea(this.area),"</div>"):"";return'\n            <div class="'.concat("interact-bar",'" data-reply-id="').concat(this.replyId,'">\n                <div class="').concat("interact-bar",'-left">\n                    <span class="time">').concat(function(t){var e="åˆšåˆš";if(!t)return e;var n=1e3*t;t=new Date(n);var i=(Date.now()-n)/1e3,o=t.getFullYear();return(new Date).getFullYear()!==o?e=Ie(t,"yyyy-MM-dd"):i>86400?e=Ie(t,"MM-dd hh:mm"):i>3600?e=parseInt(i/3600,10)+"å°æ—¶å‰":i>60&&(e=parseInt(i/60,10)+"åˆ†é’Ÿå‰"),e}(this.createTime),"</span>\n                    ").concat(t,"\n                    ").concat(this.isAuthor?'<span class="delete">åˆ é™¤</span>':'<span class="report">ä¸¾æŠ¥</span>','\n                </div>\n                <div class="').concat("interact-bar",'-right">\n                    <div class="reply">\n                        <i class="icon reply-icon"></i>\n                        <span class="reply-text">å›å¤</span>\n                    </div>\n                    <div class="like ').concat(+this.isUped?"liked":"",'">\n                        <i class="icon like-icon"></i>\n                        <span class="like-text">').concat(this.likeCount?this.likeCount:"èµ","</span>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:"bindEvent",value:function(t){var e=this,n=this.root=t.querySelector(".".concat("interact-bar",'[data-reply-id="').concat(this.replyId,'"]'));pt(n,".delete","click",(function(t){e.openPanel("classic",e.onClickDelete.bind(e)),e.actionCallback("xcp-delete-click")})),pt(n,".report","click",(function(t){e.openPanel("report",e.onClickReport.bind(e)),e.actionCallback("xcp-report-click")})),pt(n,".reply","click",(function(t){e.toggleReplyPublish(),e.actionCallback("xcp-reply-click")})),pt(n,".like","click",(function(t){e.onClickUpdown(),e.actionCallback("xcp-like-click",{liked:+e.isUped})}))}},{key:"onClickDelete",value:function(){var t=this;this.deleting||(this.deleting=!0,et({url:O.DELETE,data:{appid:this.appid,thread_id:this.threadId,reply_id:this.replyId,user_type:0,ts:Date.now(),callback:"?"},success:function(e){e&&!+e.errno?(t.root&&k(t.onDeleteSuccess)&&t.onDeleteSuccess(),t.toastCallback("xcp-delete-succ","åˆ é™¤æˆåŠŸ")):t.toastCallback("xcp-delete-error","åˆ é™¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"),t.deleting=!1},error:function(e,n){t.toastCallback("xcp-net-error",H),t.deleting=!1}}))}},{key:"onClickReport",value:function(t){var e=this;this.reporting||Ae().then((function(){e.reporting=!0,e.actionCallback("xpc-login-succ",{userName:I.curUserName,location:"report"}),et({url:O.REPORT,data:{appid:e.appid,thread_id:e.threadId,reply_id:e.replyId,reason:t.item&&t.item.id,ts:Date.now(),callback:"?"},success:function(t){t&&!+t.errno?e.toastCallback("xcp-other-event","æ„Ÿè°¢ä½ çš„ä¸¾æŠ¥"):e.toastCallback("xcp-other-event",H),e.reporting=!1},error:function(t,n){e.toastCallback("xcp-other-event",H),e.reporting=!1}})}))}},{key:"onClickUpdown",value:function(){var t=this;this.updowning||Ae().then((function(){t.updowning=!0,t.actionCallback("xpc-login-succ",{userName:I.curUserName,location:"like"}),et({url:O.UPDOWN,data:c({appid:t.appid,thread_id:t.threadId,reply_id:t.replyId,ts:Date.now(),callback:"?"},t.isUped?{undo_type:1}:{type:1}),success:function(e){var n=e&&e.errno;0==+n?t.changeUpdownStatus(!t.isUped):897==+n?t.changeUpdownStatus(!t.isUped,!0):701==+n?t.toastCallback("xcp-other-event","ç‚¹å‡»å¤ªé¢‘ç¹äº†ï¼Œä¼‘æ¯ä¸€ä¸‹å§"):t.toastCallback("xcp-other-event",H),t.updowning=!1},error:function(e,n){t.toastCallback("xcp-other-event",H),t.updowning=!1}})}))}},{key:"changeUpdownStatus",value:function(t,e){if(this.root){this.isUped=t;var n=this.root.querySelector(".like"),i=n.querySelector(".like-text");e?n.classList.add("liked"):t?(n.classList.add("liked"),i.innerText=++this.likeCount):(n.classList.remove("liked"),i.innerText=--this.likeCount,this.likeCount<=0&&(this.likeCount=0,i.innerText="èµ"))}}},{key:"openPanel",value:function(t,e){var n=document.createElement("div");n.classList.add("custom-dialog"),this.root.insertAdjacentElement("beforeend",n),"classic"===t?new Me({container:n,message:"ç¡®è®¤è¦åˆ é™¤è¯¥è¯„è®ºå—",onConfirm:function(){k(e)&&e()},onClose:function(){return n.parentElement.removeChild(n)}}):"report"===t?function(t){new Ue(t).render()}({container:n,title:"é€‰æ‹©ä¸¾æŠ¥åŸå› ",list:M,clickCallback:function(t){k(e)&&e(t)},closeCallback:function(){return n.parentElement.removeChild(n)}}):k(e)&&e()}},{key:"toggleReplyPublish",value:function(){var t=this,e="reply-".concat(this.replyId),n=this.root.querySelector(".reply-text"),i=function(){t.showReplyPublish=!1;var i=document.getElementById(e);i.parentElement.removeChild(i),n.innerText="å›å¤"};if(this.showReplyPublish)i();else{Xe.emit("closeOtherReplyPublish"),this.showReplyPublish=!0,n.innerText="å–æ¶ˆå›å¤";var o=document.createElement("div");o.id=e,o.style.paddingTop="17px",this.root.insertAdjacentElement("afterEnd",o),Ye({containerId:e,radio:{label:"åŒæ—¶è¯„è®ºåŸæ–‡",checked:!1},placeholder:"å›å¤".concat(this.uname,":"),sendCallback:function(e){e.text&&Ae().then((function(){t.actionCallback("xpc-login-succ",{userName:I.curUserName,location:"reply"}),Ee(l({replyId:t.replyId},e)).then((function(e){i(),k(t.onReplySuccess)&&t.onReplySuccess(e)})).catch((function(e){t.toastCallback("xcp-publish-error",e)}))}))},actionCallback:this.actionCallback})}}},{key:"toastCallback",value:function(t,e){I.hideToast?this.actionCallback(t,e):Ge.show({text:e})}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".xcp-item{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:28px;font-size:14px;color:#222}.xcp-item .left{width:64px}.is-second .xcp-item .left{width:55px}.xcp-item .right{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:1%}.is-second .xcp-item{padding-top:28px}");var Qe=function(){function t(e){i(this,t),this.container=e.container,this.appid=e.appid,this.data=e.data||{},this.isSecond=e.isSecond||!1,this.onDeleteSuccess=e.onDeleteSuccess,this.unshiftReply=e.unshiftReply,this.syncTextComment=e.syncTextComment,this.actionCallback=e.actionCallback,this.render(),this.bindEvent()}return a(t,[{key:"render",value:function(){var t=this,e=this.data,n=document.createElement("div");n.classList.add("xcp-item"),n.dataset.replyId=e.reply_id;var i=document.createElement("div"),o=document.createElement("div");if(i.classList.add("left"),o.classList.add("right"),this.avatar=new bt({container:i,src:e.avatar,vip:e.vtype,isSmall:this.isSecond,url:z(e.uk),actionCallback:this.actionCallback}),this.userBar=new vt({uname:e.uname,isAuthor:e.author_comment,verified:e.verified,decorations:e.decorations}),this.richText=new ne({content:e.content,contentRich:e.content_rich,replyToComment:e.reply_to_comment,hotLevel:e.hot_level,replyId:e.reply_id}),this.interactBar=new Ze({area:e.area,createTime:e.create_time,isAuthor:e.is_author,uname:e.uname,isUped:e.is_uped,likeCount:e.like_count,appid:this.appid,threadId:e.thread_id,replyId:e.reply_id,onDeleteSuccess:function(){return t.onDeleteSuccess({target:t.container,replyCount:+e.reply_count||0})},onReplySuccess:function(e){return t.onReplySuccess(e)},actionCallback:this.actionCallback}),e.image_list){var a=e.image_list;this.imageScale=new oe({thumb:a.thumb&&a.thumb.url,large:a.large&&a.large.url,type:a.type,replyId:e.reply_id})}var r="\n            ".concat(this.userBar.makeTpl(),"\n            ").concat(this.richText.makeTpl(),"\n            ").concat(this.imageScale&&this.imageScale.makeTpl()||"","\n            ").concat(this.interactBar.makeTpl(),"\n        ");if(o.innerHTML=r,e.reply_list&&e.reply_list.length){var c=document.createElement("div");this.children=new en({container:c,appid:this.appid,threadId:e.thread_id,isSecond:!0,listData:e.reply_list,parentId:e.reply_id,replyCount:e.reply_count,onUpdateReplyCount:function(e){return t.onUpdateReplyCount(e)},actionCallback:this.actionCallback}),o.appendChild(c)}n.insertAdjacentElement("afterbegin",i),n.insertAdjacentElement("beforeend",o),this.container.appendChild(n)}},{key:"bindEvent",value:function(){var t=this,e=this.container;this.richText.bindEvent(e),this.imageScale&&this.imageScale.bindEvent(e),this.interactBar.bindEvent(e),pt(e,".".concat("xcp-item"),"click",(function(e){var n=e.target;(n.closest(".".concat(t.avatar.prefixCls))||n.closest(".".concat(t.userBar.prefixCls)))&&(e.preventDefault(),e.stopPropagation(),t.actionCallback("xcp-user-click"),window.open(z(t.data.uk)))}))}},{key:"onReplySuccess",value:function(t){var e=this;if(t.sync_text_comment&&k(this.syncTextComment)&&this.syncTextComment(t.sync_text_comment),this.isSecond)k(this.unshiftReply)&&this.unshiftReply(t);else if(this.children)this.children.unshiftItem(t);else{this.data.reply_count=1,this.data.reply_list=[t];var n=document.createElement("div");this.children=new en({container:n,appid:this.appid,threadId:t.thread_id,isSecond:!0,listData:this.data.reply_list,parentId:this.data.reply_id,replyCount:this.data.reply_count,onUpdateReplyCount:function(t){return e.onUpdateReplyCount(t)},actionCallback:this.actionCallback}),this.container.querySelector(".right").insertAdjacentElement("beforeEnd",n),this.children.changeCommentCount({type:"++"})}}},{key:"onUpdateReplyCount",value:function(t){this.data.reply_count=t}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".xcp-list *{-webkit-box-sizing:content-box;box-sizing:content-box}.xcp-list-title{font-family:PingFangSC-Semibold;font-size:18px;line-height:1;color:#000}.xcp-list-loader{margin-top:64px;height:42px;font:14px PingFangSC-Regular;text-align:center;line-height:42px;color:#626675;background:#f5f5f6;border-radius:6px;cursor:pointer}.xcp-list-loader.no-more{background:transparent}.xcp-list-loader.is-second{margin-top:30px;padding-left:55px;height:auto;text-align:left;font:13px/1 PingFangSC-Semibold;font-size:13px;color:#222;background:transparent}.xcp-list-loader.is-second .icon{display:inline-block;width:17px;height:13px;background-repeat:no-repeat;background-size:cover;vertical-align:middle}.xcp-list-loader.is-second .icon-up{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-arrow-up.png)}.xcp-list-loader.is-second .icon-down{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-arrow-down.png)}");var tn=$(),en=function(){function t(e){var n=this;i(this,t),this.container=e.container,this.appid=e.appid,this.threadId=e.threadId||"",this.source=e.source||"",this.isSecond=e.isSecond||!1,this.listData=e.listData||[],this.parentId=e.parentId||"0",this.replyCount=+e.replyCount||0,this.onUpdateReplyCount=e.onUpdateReplyCount,this.onUpdateData=e.onUpdateData,this.actionCallback=k(e.actionCallback)?e.actionCallback:function(){},this.queryConf=c({},_,{thread_id:this.threadId,appid:this.appid,use_uk:1}),this.isSecond&&(delete this.queryConf.inner_order,this.queryConf=c(this.queryConf,{num:10,use_list:0,reply_id:this.parentId,order:"9"})),this.loaderStatus={isClosed:!0},this.isSecond&&this.listData.length?(this.render(),this.loaderStatus.hasMore=this.replyCount>2,this.savedOutReplyId=this.listData.map((function(t){return t.reply_id}))):this.fetchData(),this.bindEvent(),this.isSecond||(tn.on("syncTextComment",(function(t){return n.syncTextComment(t)})),tn.on("changeCommentCount",(function(t){return n.changeCommentCount(t)})))}return a(t,[{key:"fetchData",value:function(){var t=this;this.changeLoaderStatus({isLoading:!0}),et({url:this.isSecond?O.LIST2:O.LIST1,data:c(this.queryConf,{ts:Date.now()}),success:function(e){if(e&&!+e.errno&&e.ret){var n=e.ret||{};t.isSecond&&t.loaderStatus.isClosed&&(t.changeLoaderStatus({isClosed:!1}),n.list=n.list.filter((function(e){return-1===t.savedOutReplyId.indexOf(e.reply_id)}))),t.updateData(n),(n.list||[]).length&&t.render()}else t.changeLoaderStatus({isLoading:!1,isError:!0})},error:function(e,n){t.changeLoaderStatus({isLoading:!1,isError:!0})}})}},{key:"updateData",value:function(t){this.allData=t,this.listData=t.list||[],this.isSecond||(I.commentCount=+t.comment_count,I.isLogin=!!+t.is_login,I.userInfo=c(I.userInfo,t.userinfo),k(this.onUpdateData)&&this.onUpdateData(I.userInfo))}},{key:"render",value:function(){var t=this,e=this.root||document.createElement("div");e.classList.add("xcp-list");var n=this.list||document.createElement("div");n.classList.add("".concat("xcp-list","-list")),this.isSecond?n.classList.add("is-second"):e.insertAdjacentHTML("afterbegin",this.changeTitle()),this.listData.map((function(e){var i=document.createElement("div");new Qe({container:i,appid:t.appid,data:e,isSecond:t.isSecond,onDeleteSuccess:function(e){return t.deleteItem(e)},unshiftReply:function(e){return t.unshiftItem(e)},syncTextComment:function(e){return t.syncTextComment(e)},actionCallback:t.actionCallback}),n.appendChild(i)})),!this.list&&e.appendChild(n),e.insertAdjacentHTML("beforeend",this.changeLoaderStatus({isLoading:!1,isError:!1,hasMore:this.allData&&!+this.allData.is_over})),!this.root&&this.container.insertAdjacentElement("beforeend",e),this.root=e,this.list=n}},{key:"makeTplTitle",value:function(t){var e=t;void 0===e&&(e=this.allData&&+this.allData.comment_count),this.actionCallback("xcp-cmtcount-change",{count:e});var n="è¯„è®ºåˆ—è¡¨";return e>0&&(n+="ï¼ˆ".concat(e,"æ¡ï¼‰")),'<h2 class="'.concat("xcp-list",'-title">').concat(n,"</h2>")}},{key:"changeTitle",value:function(t){var e=this.container.querySelector(".".concat("xcp-list","-title"));return e?(e.outerHTML=this.makeTplTitle(t),""):this.makeTplTitle(t)}},{key:"makeTplLoader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.loaderStatus=c(this.loaderStatus,t),n="",i="",o="";return this.isSecond?(i+="is-second",e.isClosed&&this.replyCount<=2?n="":e.isClosed&&this.replyCount>2?(n="å…¨éƒ¨".concat(this.replyCount,"æ¡å›å¤"),o+="icon-down"):e.hasMore?(n="æŸ¥çœ‹å…¨éƒ¨å›å¤",o+="icon-down"):(n="æ”¶èµ·",o+="icon-up")):e.isLoading?n=P:e.isError?n=L:e.hasMore?n=R:(n=N,i+="no-more"),n?'\n            <div\n                class="'.concat("xcp-list","-loader ").concat(i,'"\n                data-parent-id="').concat(this.parentId,'"\n            >\n                <span>').concat(n,"</span>\n                ").concat(this.isSecond?'<i class="icon '.concat(o,'"></i>'):"","\n            </div>\n        "):""}},{key:"changeLoaderStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.container.querySelector(".".concat("xcp-list",'-loader[data-parent-id="').concat(this.parentId,'"]'));return e?(e.outerHTML=this.makeTplLoader(t),""):this.makeTplLoader(t)}},{key:"closeList",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=this.container.querySelector(".".concat("xcp-list","-list"));e.children.length>t;)e.removeChild(e.lastElementChild);this.queryConf.start=0,this.changeLoaderStatus({isClosed:!0,hasMore:!0})}},{key:"bindEvent",value:function(){var t=this;pt(this.container,".".concat("xcp-list",'-loader[data-parent-id="').concat(this.parentId,'"]'),"click",(function(e){!t.isSecond||t.loaderStatus.hasMore?!t.loaderStatus.isLoading&&t.loaderStatus.hasMore&&(t.loaderStatus.isError||(t.queryConf.start+=t.isSecond&&t.loaderStatus.isClosed?0:t.queryConf.num),t.actionCallback("xcp-loader-click",{isSecond:t.isSecond}),t.fetchData()):t.closeList()}))}},{key:"changeCommentCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isSecond)tn.emit("changeCommentCount",t);else{var e,n=t.count,i=t.type;e="number"==typeof n?this.allData.comment_count=n:"--"===i?--this.allData.comment_count:++this.allData.comment_count,I.commentCount=e,this.changeTitle(e)}}},{key:"afterDeleteItem",value:function(t){this.changeCommentCount(this.isSecond?{type:"--"}:{count:+this.allData.comment_count-1-t}),this.isSecond&&(this.replyCount--,this.onUpdateReplyCount(this.replyCount),this.changeLoaderStatus())}},{key:"deleteItem",value:function(t){this.list&&(this.list.removeChild(t.target),this.afterDeleteItem(t.replyCount),this.isSecond||this.list.children.length||!this.root||(this.root.outerHTML="",this.root=null,this.list=null))}},{key:"afterUnshiftItem",value:function(){this.changeCommentCount({type:"++"}),this.isSecond&&(this.replyCount++,this.onUpdateReplyCount(this.replyCount),this.changeLoaderStatus())}},{key:"unshiftItem",value:function(t){var e=this;if(!this.isSecond&&!this.list)return this.listData=[t],I.commentCount=this.allData.comment_count=1,void this.render();var n=document.createElement("div");new Qe({container:n,appid:this.appid,data:t,isSecond:this.isSecond,onDeleteSuccess:function(t){return e.deleteItem(t)},actionCallback:this.actionCallback}),this.list.insertAdjacentElement("afterBegin",n),this.afterUnshiftItem()}},{key:"syncTextComment",value:function(t){this.isSecond?tn.emit("syncTextComment",t):this.unshiftItem(t)}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".xcp-publish{padding-bottom:20px}.xcp-publish-title{font-family:PingFangSC-Semibold;font-size:18px;line-height:1;color:#000}.xcp-publish-main{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:20px}.xcp-publish-main .left{padding-top:23px;width:64px}.xcp-publish-main .right{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}");var nn="xcp-publish",on=function(){function t(e){i(this,t),this.container=e.container,this.isEmojFloatUp=e.isEmojFloatUp,this.avatarSrc=I.userInfo&&I.userInfo.avatar,this.onPublishSuccess=e.onPublishSuccess,this.actionCallback=k(e.actionCallback)?e.actionCallback:function(){},this.render()}return a(t,[{key:"render",value:function(){var t=this,e=document.createElement("div");e.classList.add(nn);var n=document.createElement("div");n.classList.add("".concat(nn,"-main"));var i=document.createElement("div");i.classList.add("left"),this.avatar=new bt({container:i,src:this.avatarSrc});var o=document.createElement("div"),a="".concat(nn,"-main-right_").concat(Date.now());o.id=a,o.classList.add("right"),n.insertAdjacentElement("beforeEnd",i),n.insertAdjacentElement("beforeEnd",o),e.insertAdjacentHTML("afterBegin",'<h2 class="'.concat(nn,'-title">å‘è¡¨è¯„è®º</h2>')),e.insertAdjacentElement("beforeEnd",n),this.container.insertAdjacentElement("afterBegin",e),this.publish=Ye({containerId:a,isEmojFloatUp:this.isEmojFloatUp,radio:{label:""},sendCallback:function(e){delete e.isRadioChecked,e&&e.text&&Ae().then((function(){t.actionCallback("xpc-login-succ",{userName:I.curUserName,location:"publish"}),Ee(e).then((function(e){I.hideToast?t.actionCallback("xcp-publish-succ","å‘è¡¨æˆåŠŸ"):Ge.show({text:"å‘è¡¨æˆåŠŸ"}),k(t.onPublishSuccess)&&t.onPublishSuccess(e),t.publish.clearTextarea()})).catch((function(e){I.hideToast?t.actionCallback("xcp-publish-error",e):Ge.show({text:e})}))})).catch((function(){}))},actionCallback:this.actionCallback})}},{key:"updateData",value:function(t){this.avatarSrc=t.avatar,this.avatar.updateSrc({src:this.avatarSrc})}},{key:"checkRealShow",value:function(t){this.publish.checkRealShow(t)}}]),t}(),an="object"===("undefined"==typeof window?"undefined":n(window))?window:t,rn=function(t){if("function"==typeof t){var e="_xfunc_".concat(Bt());return an[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(an,n)},e}return t},cn=encodeURIComponent,sn=function(t){return cn(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))};function ln(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Le(t))return t;var n=[];for(var i in t){var o=t[i];Re(o)?o=JSON.stringify(dn(o)):_e(o)?o="":Oe(o)?o=JSON.stringify(o):Pe(o)&&(o=rn(o)),n.push("".concat(i,"=").concat(e?sn(o):o))}return n.join("&")}function dn(t){return t.map((function(t){switch(Se(t)){case"string":return t;case"function":return rn(t);default:return t}}))}var un=decodeURIComponent,pn=new RegExp("%[a-f0-9]{2}","gi"),hn=new RegExp("(%[a-f0-9]{2})+","gi");function fn(t,e){try{return un(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),i=t.slice(e);return Array.prototype.concat.call([],fn(n),fn(i))}function gn(t){try{return un(t)}catch(o){for(var e=t.match(pn),n=1;n<e.length;n++)e=(t=fn(e,n).join("")).match(pn);return t}}var mn=function(t){if("string"!=typeof t)throw Te("encodedURI","string",t);try{return t=t.replace(/\+/g," "),un(t)}catch(n){return function(t){for(var e={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},n=hn.exec(t);n;){try{e[n[0]]=un(n[0])}catch(t){var i=gn(n[0]);i!==n[0]&&(e[n[0]]=i)}n=hn.exec(t)}e["%C2"]="ï¿½";for(var o=Object.keys(e),a=0;a<o.length;a++){var r=o[a];t=t.replace(new RegExp(r,"g"),e[r])}return t}(t)}},xn=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.split("?"),i=n[1]?n[1]:n[0],o=i.split("&"),a={};return o.forEach((function(t){if((t=t.split("="))[0].length>0){var n="";try{n=(e?mn(t[1]):decodeURIComponent(t[1]))||""}catch(t){}a[t[0]]=n}})),a},bn=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.split("?"),i=g(n,2),o=i[0],a=i[1],r=void 0===a?"":a;return{url:o,query:e?xn(r):r}};function vn(t,e){for(var n in e)Oe(e[n])||Re(e[n])?(Oe(e[n])&&!Oe(t[n])&&(t[n]={}),Re(e[n])&&!Re(t[n])&&(t[n]=[]),vn(t[n],e[n])):Fe(e[n])||(t[n]=e[n])}function yn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Ne(t)&&(t=n.shift()),n.forEach((function(e){vn(t,e)})),t}var En=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var o=bn(e);if(0===(e=o.url).indexOf("//")){var a=location.protocol;"http:"!==a&&(a="https:"),e=a+e}this.url=e;var r=n.globalData||{};this._default=c(o.query||{},r),this._data={},this._before=n.before}return a(t,[{key:"setGlobalData",value:function(t){return Oe(t)&&yn(this._default,t),this}},{key:"mark",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Oe(t))throw Te("data","object",t);return Oe(t)&&c(this._mdata,t),this}},{key:"_send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Oe(t))throw Te("data","object",t);var n=new Image(1,1),i="_xbox_mt_".concat(Bt());window[i]=n,n.onload=n.onerror=n.onabort=function(){n.onload=n.onerror=n.onabort=null,window[i]=n=null},t=yn({},this._default,t);var o=this._before;if(!e&&Pe(o)){var a=o(t);if(!1===a)return this;Fe(a)||(Oe(a)||Le(a))&&(t=a)}var r="".concat(this.url,"?").concat(Le(t)?t:ln(t,!0));return n.src=r+"&_rnd="+Bt(),this}},{key:"send",value:function(t){return this._send(this._data,t),delete this._mdata,this._mdata={},this}},{key:"report",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!Oe(t))throw Te("data","object",t);return this._send(t,e)}}]),t}(),Bn="object"===("undefined"==typeof window?"undefined":n(window))&&window.self===window?navigator.userAgent:"",kn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn;"main"===t&&(t="");var n=/ (baiduboxapp|biduboxapp)\//i;if(!1===n.test(e))return!1;var i=e.match(n),o=i[1];return!!~e.indexOf("".concat(t," ").concat(o))},wn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn;"main"===t&&(t="");var n=/\bbdapp\/\d+\.\d+\s+\((\w+);\s*(\w+)\)/;if(""===t){var i=/\s(lite|pro|info|mission)\sbaiduboxapp\//.exec(e);if(i)return!0;if(/\bbdapp\/\d+\.\d+\s/.test(e))return!0}else if(!1===t){var o=e.match(n);if(o&&o[1])return!0}else{if(new RegExp(new RegExp("\\s".concat(t,"\\sbaiduboxapp/"))).test(e))return!0;var a=e.match(n);if(a&&a[1]&&a[1]===t)return!0}return!1},Dn="object"===("undefined"==typeof window?"undefined":n(window))&&window.self===window?navigator.userAgent:"";function Cn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn;"main"===t&&(t="");var i,o="0";return"object"===("undefined"==typeof window?"undefined":n(window))&&window.baiduboxapp_version?baiduboxapp_version:((kn(t,e)||wn(t,e))&&((i=/(baiduboxapp|baiduboxvision)\/([\d.]+)/.exec(e))?o=i[2]:(i=/([\d+.]+)_(?:diordna|enohpi)_/.exec(e))&&(o=(i=i[1].split(".")).reverse().join("."))),o)}function An(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dn;if((t=t||Cn(e,n))&&"string"==typeof t){var i=/\d+\.\d+/.exec(t);if(i)return i[0]}return 0}var Sn=xn(location.search),jn=navigator.userAgent,Tn=function(t){d(n,t);var e=h(n);function n(t){i(this,n);var o={};return Sn.uid&&Sn.osname&&["osname","ua","ut","from","cfrom","uid","pkgname"].forEach((function(t){Sn[t]&&(o[t]=Sn[t])})),e.call(this,t?"https://mbd.baidu.com/ztbox":"https://mbd.baidu.com/tcbox",{globalData:l(l({},o),{},{service:"bdbox",action:t||"pblog",ctv:2,cen:"uid_ua_ut",data:{appid:kn("lite")?10001:kn("info")?10002:"1",dataid:"2",actiontype:"1",actionid:"2",actiondata:{boxV:An(),ref:Sn.ref||"",gmv:Sn.vmgdb||"",source:Sn.from||Sn.ref||"",boxVersion:Cn(),boxPlatform:jn.match(/(iPad|iPhone|iPod)/gim)?"ios":"android"}}})})}return a(n,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=g(t,2),i=e[0],o=e[1],a=Oe(o)?o:{};return a.data={},a.data.cateid=i,f(u(n.prototype),"setGlobalData",this).call(this,a)}},{key:"pv",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=g(t,2),i=e[0],o=e[1],a={actionid:"1",actiondata:{url:i||location.href}};return o&&(a.actiondata.u=o),f(u(n.prototype),"report",this).call(this,{data:a})}},{key:"event",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=g(t,4),i=e[0],o=e[1],a=void 0===o?"":o,r=e[2],c=void 0===r?"":r,s=e[3];if(!i)throw"monitor.tc.event need a evtName";var l={};if(Oe(a)&&!c)for(var d in l={evtName:i},a)l[d]=a[d];else l={evtName:i,evtType:a,evtTag:c};var p={actionid:"2",actiondata:l};return s&&(p.cateid=s),f(u(n.prototype),"report",this).call(this,{data:p})}},{key:"newEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=g(t,2),i=e[0],o=e[1],a={actionid:"2",actiondata:i};return o&&(a.cateid=o),f(u(n.prototype),"report",this).call(this,{data:a})}}]),n}(En),In=new Tn,_n="visible"===(document.visibilityState||document.webkitVisibilityState),Fn=function(t){_n?requestAnimationFrame(t):setTimeout(t,15)},On=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return In[t].apply(In,n)},Pn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=this&&this!==window?this:In;if("complete"!==document.readyState){var a=function e(){Fn((function(){o[t].apply(o,n)})),window.removeEventListener("load",e)};window.addEventListener("load",a)}else Fn((function(){o[t].apply(o,n)}))};function Ln(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn;return/(Android);?[\s/]+([\d.]+)?/.test(t)}function Rn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn;return/(iPhone|iPod|iPad)/.test(t)}var Nn=Cn()||"",Hn=Nn.split(".").slice(0,2).join(".")||"",Mn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn;return Rn(t)?"ios":Ln(t)?"android":"unknown"}()||"",zn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.id,o=t.flow,a=void 0===o?"":o,r=t.action;delete t.action,delete t.id,delete t.flow;var s=e.from,l=void 0===s?"":s,d=e.page,u=void 0===d?"":d,p=e.source,h=void 0===p?"":p,f=e.ext,g=void 0===f?{}:f,m=e.logId,x=void 0===m?"11414":m;g=t.ext?c({},g,t.ext):g,delete t.ext;var b={id:i||x,type:0,content:c({boxVersion:Nn,boxV:Hn,platform:Mn,from:l,type:"",page:u,source:h,value:"",ext:g},t)};a&&(b.flow=a),"zpblog"===r?Pn.call(new Tn("zpblog"),"newEvent",[b,99]):n?Pn("newEvent",[b,99]):On("newEvent",[b,99])},Un={},Kn=1,qn=Date.now(),$n=!1,Vn=function(t,e){Ve(e,340,I.winHeight)&&("hide"===t?zn(l(l({},Un),{},{type:"comment_duration",ext:{time:String(Date.now()-qn)},value:I.isLogin})):("show"===t&&(Kn++,qn=Date.now(),$n=!1),!$n&&zn(l(l({},Un),{},{type:"comment_show",ext:{count:Kn},value:I.isLogin?+I.isLogin:Un.value})),$n=!0))},Wn=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};switch(t){case"publish-emoj-show":e="emoji_button_show";break;case"publish-radio-show":e=n.checked?"forward_show_1":"forward_show_0";break;case"publish-emoj-click":e="emoji_button_clk";break;case"publish-radio-click":e=n.checked?"forward_success":"forward_cancel";break;case"publish-send-click":e="publish_button";break;case"publish-textarea-click":e="input_box_clk";break;case"publish-emojItem-click":e="emoji_id_clk",i={id:n.id};break;case"publish-textarea-draft":e="publish_comment_draft";break;case"xcp-user-click":e="user_name_clk";break;case"xcp-like-click":e=n.liked?"praise_clk":"praise_cancel_clk ";break;case"xcp-delete-click":e="delete_clk";break;case"xcp-reply-click":e="reply_clk";break;case"xcp-report-click":e="report_clk";break;case"xcp-loader-click":e=n.isSecond?"view_replyall_clk":"view_all_clk"}e&&zn(l(l({},Un),{},{type:e,ext:i,value:I.isLogin?+I.isLogin:Un.value}))};!function(t){var e=window.Element.prototype;"function"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=0;e[n]&&e[n]!==this;)++n;return Boolean(e[n])}),"function"!=typeof e.closest&&(e.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null})}();var Jn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.options=l({source:"xbox-comment-pc",isNeedPublish:!0,openBrowserLimit:!0},e),this.container=document.getElementById(this.options.containerId);var n=this.options.tid;if(this.options.openBrowserLimit&&!I.isHigherBrowser||!n)this.container&&(this.container.style.display="none");else{var o=this.options,a=o.appid,r=o.source,c=o.isNeedPublish,s=o.staticPage,d=o.actionCallback,u=o.hideToast,p=void 0!==u&&u;this.appid=I.appid=a||"22862035",this.threadId=I.threadId=n,this.source=r,this.isNeedPublish=c,this.actionCallback=k(d)?d:function(){},I.passStaticPage=s,I.hideToast=p,this.init()}}return a(t,[{key:"init",value:function(){var t,e,n,i,o,a=this;e=(t=this.options||{}).source,n=t.nid,i=t.tid,o=t.isLogin,Un={from:"comment",page:"comment_module",source:e,value:+o,ext:{nid:""+n,topicid:""+i,num:I.commentCount}},this.queryConf=c({},_,{thread_id:this.threadId,appid:this.appid,use_uk:1}),this.fetchData().then((function(t){a.handleData(t)})).catch((function(t){}))}},{key:"render",value:function(){var t=this;if(this.isNeedPublish){var e=document.createElement("div");this.container.appendChild(e),this.publish=new on({container:e,isEmojFloatUp:this.options.isEmojFloatUp,onPublishSuccess:function(e){t.list.unshiftItem(e)},actionCallback:function(e,n){Wn(e,n),t.actionCallback(e,n)}})}var n=document.createElement("div");this.list=new en({container:n,appid:this.appid,threadId:this.threadId,source:this.source,onUpdateData:function(e){t.publish&&t.publish.updateData(e)},actionCallback:function(e,n){Wn(e,n),t.actionCallback(e,n)}}),this.container.appendChild(n)}},{key:"bindEvent",value:function(){var t=this,e=!1;k(this.publish&&this.publish.checkRealShow)&&this.publish.checkRealShow,window.addEventListener("scroll",(function(){Vn("scroll",t.container),e||k(t.publish&&t.publish.checkRealShow)&&t.publish.checkRealShow((function(){e=!0}))}),!1),function(t){var e=t.showCb,n=t.hiddenCb;e=e||t.show,n=n||t.hidden||t.hide;var i="",o="";void 0!==document.visibilityState?(i="visibilityState",o="visibilitychange"):void 0!==document.webkitVisibilityState&&(i="webkitVisibilityState",o="webkitvisibilitychange"),o&&document.addEventListener(o,(function(){"visible"===document[i]?e&&e():n&&n()}),!1)}({showCb:function(){Vn("show",t.container),e=!1,k(t.publish&&t.publish.checkRealShow)&&t.publish.checkRealShow()},hiddenCb:function(){Vn("hide",t.container)}})}},{key:"fetchData",value:function(){var t=this;return new Promise((function(e,n){et({url:O.LIST1,data:t.queryConf,success:function(t){0!=+t.errno?n(t):e(t.ret)},error:function(t,e){n(t)}})}))}},{key:"handleData",value:function(t){var e=this;"1"!==t.is_show&&("4"===t.is_show&&(this.isNeedPublish=!1),this.render(),setTimeout((function(){Vn("first",e.container)}),100),this.bindEvent())}}]),t}();e.CommentPc=Jn,e.default=function(t){return new Jn(t)},Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n("6109"))}}]);
//# sourceMappingURL=1.c5c6e1fc.js.map